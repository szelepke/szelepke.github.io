!function(){function t(t){return t&&t.__esModule?t.default:t}function e(t,e,r,i){Object.defineProperty(t,e,{get:r,set:i,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i=r.parcelRequiree382,n=i.register;n("2AfJa",function(r,n){Object.defineProperty(r.exports,"__esModule",{value:!0,configurable:!0}),e(r.exports,"presets",function(){return f}),e(r.exports,"compressSpaces",function(){return p}),e(r.exports,"trimLeft",function(){return g}),e(r.exports,"trimRight",function(){return d}),e(r.exports,"toNumbers",function(){return v}),e(r.exports,"normalizeAttributeName",function(){return m}),e(r.exports,"parseExternalUrl",function(){return x}),e(r.exports,"normalizeColor",function(){return b}),e(r.exports,"getSelectorSpecificity",function(){return N}),e(r.exports,"PSEUDO_ZERO",function(){return M}),e(r.exports,"vectorMagnitude",function(){return R}),e(r.exports,"vectorsRatio",function(){return k}),e(r.exports,"vectorsAngle",function(){return V}),e(r.exports,"CB1",function(){return _}),e(r.exports,"CB2",function(){return I}),e(r.exports,"CB3",function(){return D}),e(r.exports,"CB4",function(){return j}),e(r.exports,"QB1",function(){return L}),e(r.exports,"QB2",function(){return z}),e(r.exports,"QB3",function(){return B}),e(r.exports,"Property",function(){return F}),e(r.exports,"ViewPort",function(){return U}),e(r.exports,"Point",function(){return H}),e(r.exports,"Mouse",function(){return X}),e(r.exports,"Screen",function(){return Q}),e(r.exports,"Parser",function(){return Z}),e(r.exports,"Translate",function(){return K}),e(r.exports,"Rotate",function(){return $}),e(r.exports,"Scale",function(){return J}),e(r.exports,"Matrix",function(){return tt}),e(r.exports,"Skew",function(){return te}),e(r.exports,"SkewX",function(){return tr}),e(r.exports,"SkewY",function(){return ti}),e(r.exports,"Transform",function(){return tn}),e(r.exports,"Element",function(){return ta}),e(r.exports,"UnknownElement",function(){return ts}),e(r.exports,"Font",function(){return tu}),e(r.exports,"BoundingBox",function(){return th}),e(r.exports,"PathParser",function(){return tc}),e(r.exports,"RenderedElement",function(){return tl}),e(r.exports,"PathElement",function(){return tf}),e(r.exports,"GlyphElement",function(){return tp}),e(r.exports,"TextElement",function(){return tg}),e(r.exports,"TSpanElement",function(){return td}),e(r.exports,"SVGElement",function(){return ty}),e(r.exports,"RectElement",function(){return tm}),e(r.exports,"CircleElement",function(){return tx}),e(r.exports,"EllipseElement",function(){return tb}),e(r.exports,"LineElement",function(){return tS}),e(r.exports,"PolylineElement",function(){return tT}),e(r.exports,"PolygonElement",function(){return tw}),e(r.exports,"PatternElement",function(){return tA}),e(r.exports,"MarkerElement",function(){return tE}),e(r.exports,"DefsElement",function(){return tP}),e(r.exports,"GElement",function(){return tO}),e(r.exports,"GradientElement",function(){return tC}),e(r.exports,"LinearGradientElement",function(){return tN}),e(r.exports,"RadialGradientElement",function(){return tM}),e(r.exports,"StopElement",function(){return tR}),e(r.exports,"AnimateElement",function(){return tk}),e(r.exports,"AnimateColorElement",function(){return tV}),e(r.exports,"AnimateTransformElement",function(){return t_}),e(r.exports,"FontElement",function(){return tI}),e(r.exports,"FontFaceElement",function(){return tD}),e(r.exports,"MissingGlyphElement",function(){return tj}),e(r.exports,"TRefElement",function(){return tL}),e(r.exports,"AElement",function(){return tz}),e(r.exports,"TextPathElement",function(){return tU}),e(r.exports,"ImageElement",function(){return tX}),e(r.exports,"SymbolElement",function(){return tY}),e(r.exports,"SVGFontLoader",function(){return tq}),e(r.exports,"StyleElement",function(){return tQ}),e(r.exports,"UseElement",function(){return tW}),e(r.exports,"FeColorMatrixElement",function(){return tZ}),e(r.exports,"MaskElement",function(){return tK}),e(r.exports,"ClipPathElement",function(){return tJ}),e(r.exports,"FilterElement",function(){return t0}),e(r.exports,"FeDropShadowElement",function(){return t1}),e(r.exports,"FeMorphologyElement",function(){return t2}),e(r.exports,"FeCompositeElement",function(){return t3}),e(r.exports,"FeGaussianBlurElement",function(){return t4}),e(r.exports,"TitleElement",function(){return t5}),e(r.exports,"DescElement",function(){return t9}),e(r.exports,"Document",function(){return t7}),e(r.exports,"Canvg",function(){return er}),e(r.exports,"default",function(){return er}),i("dHWoo");var a=i("5Eyia");i("4DbTj"),i("ja1Yp"),i("7aoHX"),i("g3nQT"),i("7SNTk");var s=i("joZiE");i("9CpNo"),i("itSR0"),i("aJRpN");var o=i("2wBg6");i("2tTXU");var u=i("bp0Wq");i("gzfZF"),i("bkVSL"),i("5uqZg");var h=i("04jIG");i("dTsM1");var c=i("4NqH5"),l=i("ifSkl"),f=/*#__PURE__*/Object.freeze({__proto__:null,offscreen:/**
 * Options preset for `OffscreenCanvas`.
 * @param config - Preset requirements.
 * @param config.DOMParser - XML/HTML parser from string into DOM Document.
 * @returns Preset object.
 */function(){var{DOMParser:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,createCanvas:(t,e)=>new OffscreenCanvas(t,e),createImage:e=>/*@__PURE__*/t(a)(function*(){var t=yield fetch(e),r=yield t.blob();return yield createImageBitmap(r)})()};return("undefined"!=typeof DOMParser||void 0===e)&&Reflect.deleteProperty(r,"DOMParser"),r},node:/**
 * Options preset for `node-canvas`.
 * @param config - Preset requirements.
 * @param config.DOMParser - XML/HTML parser from string into DOM Document.
 * @param config.canvas - `node-canvas` exports.
 * @param config.fetch - WHATWG-compatible `fetch` function.
 * @returns Preset object.
 */function(t){var{DOMParser:e,canvas:r,fetch:i}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:i,createCanvas:r.createCanvas,createImage:r.loadImage}}});/**
 * HTML-safe compress white-spaces.
 * @param str - String to compress.
 * @returns String.
 */function p(t){return t.replace(/(?!\u3000)\s+/gm," ")}/**
 * HTML-safe left trim.
 * @param str - String to trim.
 * @returns String.
 */function g(t){return t.replace(/^[\n \t]+/,"")}/**
 * HTML-safe right trim.
 * @param str - String to trim.
 * @returns String.
 */function d(t){return t.replace(/[\n \t]+$/,"")}/**
 * String to numbers array.
 * @param str - Numbers string.
 * @returns Numbers array.
 */function v(t){return((t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}// Microsoft Edge fix
var y=/^[A-Z-]+$/;/**
 * Normalize attribute name.
 * @param name - Attribute name.
 * @returns Normalized attribute name.
 */function m(t){return y.test(t)?t.toLowerCase():t}/**
 * Parse external URL.
 * @param url - CSS url string.
 * @returns Parsed URL.
 */function x(t){//                      single quotes [2]
//                      v         double quotes [3]
//                      v         v         no quotes [4]
//                      v         v         v
var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}/**
 * Transform floats to integers in rgb colors.
 * @param color - Color to normalize.
 * @returns Normalized color.
 */function b(t){if(!t.startsWith("rgb"))return t;var e=3;return t.replace(/\d+(\.\d+)?/g,(t,r)=>e--&&r?String(Math.round(parseFloat(t))):t)}// slightly modified version of https://github.com/keeganstreet/specificity/blob/master/specificity.js
var S=/(\[[^\]]+\])/g,T=/(#[^\s+>~.[:]+)/g,w=/(\.[^\s+>~.[:]+)/g,A=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,E=/(:[\w-]+\([^)]*\))/gi,P=/(:[^\s+>~.[:]+)/g,O=/([^\s+>~.[:]+)/g;function C(t,e){var r=e.exec(t);return r?[t.replace(e," "),r.length]:[t,0]}/**
 * Measure selector specificity.
 * @param selector - Selector to measure.
 * @returns Specificity.
 */function N(t){var e=[0,0,0],r=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),i=0;return[r,i]=C(r,S),e[1]+=i,[r,i]=C(r,T),e[0]+=i,[r,i]=C(r,w),e[1]+=i,[r,i]=C(r,A),e[2]+=i,[r,i]=C(r,E),e[1]+=i,[r,i]=C(r,P),e[1]+=i,r=r.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[r,i]=C(r,O),e[2]+=i,e.join("")}var M=1e-8;/**
 * Vector magnitude.
 * @param v
 * @returns Number result.
 */function R(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}/**
 * Ratio between two vectors.
 * @param u
 * @param v
 * @returns Number result.
 */function k(t,e){return(t[0]*e[0]+t[1]*e[1])/(R(t)*R(e))}/**
 * Angle between two vectors.
 * @param u
 * @param v
 * @returns Number result.
 */function V(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(k(t,e))}function _(t){return t*t*t}function I(t){return 3*t*t*(1-t)}function D(t){return 3*t*(1-t)*(1-t)}function j(t){return(1-t)*(1-t)*(1-t)}function L(t){return t*t}function z(t){return 2*t*(1-t)}function B(t){return(1-t)*(1-t)}class F{constructor(t,e,r){this.document=t,this.name=e,this.value=r,this.isNormalizedColor=!1}static empty(t){return new F(t,"EMPTY","")}split(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:e,name:r}=this;return p(this.getString()).trim().split(t).map(t=>new F(e,r,t))}hasValue(t){var{value:e}=this;return null!==e&&""!==e&&(t||0!==e)&&void 0!==e}isString(t){var{value:e}=this,r="string"==typeof e;return r&&t?t.test(e):r}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return void 0===t||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return void 0===t?0:parseFloat(t);var{value:e}=this,r=parseFloat(e);return this.isString(/%$/)&&(r/=100),r}getString(t){return void 0===t||this.hasValue()?void 0===this.value?"":String(this.value):String(t)}getColor(t){var e=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,e=b(e),this.value=e),e}getDpi(){return 96;// TODO: compute?
}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[r,i]="boolean"==typeof t?[void 0,t]:[t],{viewPort:n}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(n.computeSize("x"),n.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(n.computeSize("x"),n.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*n.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*n.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&i:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*n.computeSize(r);default:var a=this.getNumber();if(e&&a<1)return a*n.computeSize(r);return a}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var t=this.getString(),e=/#([^)'"]+)/.exec(t);return e&&(e=e[1]),e||(e=t),this.document.definitions[e]}getFillStyleDefinition(t,e){var r=this.getDefinition();if(!r)return null;// gradient
if("function"==typeof r.createGradient)return r.createGradient(this.document.ctx,t,e);// pattern
if("function"==typeof r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&r.getAttribute("patternTransform",!0).setValue(i.value)}return r.createPattern(this.document.ctx,t,e)}return null}getTextBaseline(){return this.hasValue()?F.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var r=this.getColor(),i=r.length,n=0,a=0;a<i&&(","===r[a]&&n++,3!==n);a++);if(e.hasValue()&&this.isString()&&3!==n){var s=new/*@__PURE__*/(t(u))(r);s.ok&&(s.alpha=e.getNumber(),r=s.toRGBA())}return new F(this.document,this.name,r)}}F.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class U{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(t,e){this.viewPorts.push({width:t,height:e})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:t}=this;return t[t.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return"number"==typeof t?t:"x"===t?this.width:"y"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class H{constructor(t,e){this.x=t,this.y=e}static parse(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[r=e,i=e]=v(t);return new H(r,i)}static parseScale(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[r=e,i=r]=v(t);return new H(r,i)}static parsePath(t){for(var e=v(t),r=e.length,i=[],n=0;n<r;n+=2)i.push(new H(e[n],e[n+1]));return i}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){var{x:e,y:r}=this,i=e*t[0]+r*t[2]+t[4],n=e*t[1]+r*t[3]+t[5];this.x=i,this.y=n}}class X{constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:t,onClick:e,onMouseMove:r}=this,i=t.ctx.canvas;i.onclick=e,i.onmousemove=r,this.working=!0}}stop(){if(this.working){var t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:t,events:e,eventElements:r}=this,{style:i}=t.ctx.canvas;i&&(i.cursor=""),e.forEach((t,e)=>{for(var{run:i}=t,n=r[e];n;)i(n),n=n.parent}),this.events=[],this.eventElements=[]}}checkPath(t,e){if(this.working&&e){var{events:r,eventElements:i}=this;r.forEach((r,n)=>{var{x:a,y:s}=r;!i[n]&&e.isPointInPath&&e.isPointInPath(a,s)&&(i[n]=t)})}}checkBoundingBox(t,e){if(this.working&&e){var{events:r,eventElements:i}=this;r.forEach((r,n)=>{var{x:a,y:s}=r;!i[n]&&e.isPointInBox(a,s)&&(i[n]=t)})}}mapXY(t,e){for(var{window:r,ctx:i}=this.screen,n=new H(t,e),a=i.canvas;a;)n.x-=a.offsetLeft,n.y-=a.offsetTop,a=a.offsetParent;return r.scrollX&&(n.x+=r.scrollX),r.scrollY&&(n.y+=r.scrollY),n}onClick(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:e,y:r,run(t){t.onClick&&t.onClick()}})}onMouseMove(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:e,y:r,run(t){t.onMouseMove&&t.onMouseMove()}})}}var Y="undefined"!=typeof window?window:null,q="undefined"!=typeof fetch?fetch.bind(void 0)// `fetch` depends on context: `someObject.fetch(...)` will throw error.
:null;class Q{constructor(t){var{fetch:e=q,window:r=Y}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new U,this.mouse=new X(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,this.fetch=e}wait(t){this.waits.push(t)}ready(){return(// eslint-disable-next-line @typescript-eslint/no-misused-promises
this.readyPromise?this.readyPromise:Promise.resolve())}isReady(){if(this.isReadyLock)return!0;var t=this.waits.every(t=>t());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){// initial values and defaults
t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){var{document:e,ctx:r,aspectRatio:i,width:n,desiredWidth:a,height:s,desiredHeight:o,minX:u=0,minY:h=0,refX:c,refY:l,clip:f=!1,clipX:g=0,clipY:d=0}=t,[v,y]=p(i).replace(/^defer\s/,"").split(" "),m=v||"xMidYMid",x=y||"meet",b=n/a,S=s/o,T=Math.min(b,S),w=Math.max(b,S),A=a,E=o;"meet"===x&&(A*=T,E*=T),"slice"===x&&(A*=w,E*=w);var P=new F(e,"refX",c),O=new F(e,"refY",l),C=P.hasValue()&&O.hasValue();if(C&&r.translate(-T*P.getPixels("x"),-T*O.getPixels("y")),f){var N=T*g,M=T*d;r.beginPath(),r.moveTo(N,M),r.lineTo(n,M),r.lineTo(n,s),r.lineTo(N,s),r.closePath(),r.clip()}if(!C){var R="meet"===x&&T===S,k="slice"===x&&w===S,V="meet"===x&&T===b,_="slice"===x&&w===b;m.startsWith("xMid")&&(R||k)&&r.translate(n/2-A/2,0),m.endsWith("YMid")&&(V||_)&&r.translate(0,s/2-E/2),m.startsWith("xMax")&&(R||k)&&r.translate(n-A,0),m.endsWith("YMax")&&(V||_)&&r.translate(0,s-E)}// scale
switch(!0){case"none"===m:r.scale(b,S);break;case"meet"===x:r.scale(T,T);break;case"slice"===x:r.scale(w,w)}// translate
r.translate(-u,-h)}start(e){var{enableRedraw:r=!1,ignoreMouse:i=!1,ignoreAnimation:n=!1,ignoreDimensions:a=!1,ignoreClear:s=!1,forceRedraw:u,scaleWidth:h,scaleHeight:c,offsetX:l,offsetY:f}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:p,mouse:g}=this,d=1e3/p;if(this.frameDuration=d,this.readyPromise=new Promise(t=>{this.resolveReady=t}),this.isReady()&&this.render(e,a,s,h,c,l,f),r){var v=Date.now(),y=v,m=0,x=()=>{(m=(v=Date.now())-y)>=d&&(y=v-m%d,this.shouldUpdate(n,u)&&(this.render(e,a,s,h,c,l,f),g.runEvents())),this.intervalId=/*@__PURE__*/t(o)(x)};i||g.start(),this.intervalId=/*@__PURE__*/t(o)(x)}}stop(){this.intervalId&&(/*@__PURE__*/t(o).cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,e){// need update from animations?
if(!t){var{frameDuration:r}=this;if(this.animations.reduce((t,e)=>e.update(r)||t,!1))return!0}// need update from redraw?
return!!("function"==typeof e&&e()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(t,e,r,i,n,a,s){var{CLIENT_WIDTH:o,CLIENT_HEIGHT:u,viewPort:h,ctx:c,isFirstRender:l}=this,f=c.canvas;h.clear(),f.width&&f.height?h.setCurrent(f.width,f.height):h.setCurrent(o,u);var p=t.getStyle("width"),g=t.getStyle("height");!e&&(l||"number"!=typeof i&&"number"!=typeof n)&&(p.hasValue()&&(f.width=p.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),g.hasValue()&&(f.height=g.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));var d=f.clientWidth||f.width,y=f.clientHeight||f.height;if(e&&p.hasValue()&&g.hasValue()&&(d=p.getPixels("x"),y=g.getPixels("y")),h.setCurrent(d,y),"number"==typeof a&&t.getAttribute("x",!0).setValue(a),"number"==typeof s&&t.getAttribute("y",!0).setValue(s),"number"==typeof i||"number"==typeof n){var m=v(t.getAttribute("viewBox").getString()),x=0,b=0;if("number"==typeof i){var S=t.getStyle("width");S.hasValue()?x=S.getPixels("x")/i:isNaN(m[2])||(x=m[2]/i)}if("number"==typeof n){var T=t.getStyle("height");T.hasValue()?b=T.getPixels("y")/n:isNaN(m[3])||(b=m[3]/n)}x||(x=b),b||(b=x),t.getAttribute("width",!0).setValue(i),t.getAttribute("height",!0).setValue(n);var w=t.getStyle("transform",!0,!0);w.setValue("".concat(w.getString()," scale(").concat(1/x,", ").concat(1/b,")"))}// clear and render
r||c.clearRect(0,0,d,y),t.render(c),l&&(this.isFirstRender=!1)}}Q.defaultWindow=Y,Q.defaultFetch=q;var{defaultFetch:W}=Q,G="undefined"!=typeof DOMParser?DOMParser:null;class Z{constructor(){var{fetch:t=W,DOMParser:e=G}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=t,this.DOMParser=e}parse(e){var r=this;return /*@__PURE__*/t(a)(function*(){return e.startsWith("<")?r.parseFromString(e):r.load(e)})()}parseFromString(t){var e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch(r){return this.checkDocument(e.parseFromString(t,"text/xml"))}}checkDocument(t){var e=t.getElementsByTagName("parsererror")[0];if(e)throw Error(e.textContent);return t}load(e){var r=this;return /*@__PURE__*/t(a)(function*(){var t=yield r.fetch(e),i=yield t.text();return r.parseFromString(i)})()}}class K{constructor(t,e){this.type="translate",this.point=null,this.point=H.parse(e)}apply(t){var{x:e,y:r}=this.point;t.translate(e||0,r||0)}unapply(t){var{x:e,y:r}=this.point;t.translate(-1*e||0,-1*r||0)}applyToPoint(t){var{x:e,y:r}=this.point;t.applyTransform([1,0,0,1,e||0,r||0])}}class ${constructor(t,e,r){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=v(e);this.angle=new F(t,"angle",i[0]),this.originX=r[0],this.originY=r[1],this.cx=i[1]||0,this.cy=i[2]||0}apply(t){var{cx:e,cy:r,originX:i,originY:n,angle:a}=this,s=e+i.getPixels("x"),o=r+n.getPixels("y");t.translate(s,o),t.rotate(a.getRadians()),t.translate(-s,-o)}unapply(t){var{cx:e,cy:r,originX:i,originY:n,angle:a}=this,s=e+i.getPixels("x"),o=r+n.getPixels("y");t.translate(s,o),t.rotate(-1*a.getRadians()),t.translate(-s,-o)}applyToPoint(t){var{cx:e,cy:r,angle:i}=this,n=i.getRadians();t.applyTransform([1,0,0,1,e||0,r||0// this.p.y
]),t.applyTransform([Math.cos(n),Math.sin(n),-Math.sin(n),Math.cos(n),0,0]),t.applyTransform([1,0,0,1,-e||0,-r||0// -this.p.y
])}}class J{constructor(t,e,r){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=H.parseScale(e);// Workaround for node-canvas
(0===i.x||0===i.y)&&(i.x=M,i.y=M),this.scale=i,this.originX=r[0],this.originY=r[1]}apply(t){var{scale:{x:e,y:r},originX:i,originY:n}=this,a=i.getPixels("x"),s=n.getPixels("y");t.translate(a,s),t.scale(e,r||e),t.translate(-a,-s)}unapply(t){var{scale:{x:e,y:r},originX:i,originY:n}=this,a=i.getPixels("x"),s=n.getPixels("y");t.translate(a,s),t.scale(1/e,1/r||e),t.translate(-a,-s)}applyToPoint(t){var{x:e,y:r}=this.scale;t.applyTransform([e||0,0,0,r||0,0,0])}}class tt{constructor(t,e,r){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=v(e),this.originX=r[0],this.originY=r[1]}apply(t){var{originX:e,originY:r,matrix:i}=this,n=e.getPixels("x"),a=r.getPixels("y");t.translate(n,a),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t.translate(-n,-a)}unapply(t){var{originX:e,originY:r,matrix:i}=this,n=i[0],a=i[2],s=i[4],o=i[1],u=i[3],h=i[5],c=1/(n*(1*u-0*h)-a*(1*o-0*h)+s*(0*o-0*u)),l=e.getPixels("x"),f=r.getPixels("y");t.translate(l,f),t.transform(c*(1*u-0*h),c*(0*h-1*o),c*(0*s-1*a),c*(1*n-0*s),c*(a*h-s*u),c*(s*o-n*h)),t.translate(-l,-f)}applyToPoint(t){t.applyTransform(this.matrix)}}class te extends tt{constructor(t,e,r){super(t,e,r),this.type="skew",this.angle=null,this.angle=new F(t,"angle",e)}}class tr extends te{constructor(t,e,r){super(t,e,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class ti extends te{constructor(t,e,r){super(t,e,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class tn{constructor(t,e,r){this.document=t,this.transforms=[],p(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/).forEach(t=>{if("none"!==t){var[e,i]=function(t){var[e,r]=t.split("(");return[e.trim(),r.trim().replace(")","")]}(t),n=tn.transformTypes[e];void 0!==n&&this.transforms.push(new n(this.document,i,r))}})}static fromElement(t,e){var r=e.getStyle("transform",!1,!0),[i,n=i]=e.getStyle("transform-origin",!1,!0).split();return r.hasValue()?new tn(t,r.getString(),[i,n]):null}apply(t){for(var{transforms:e}=this,r=e.length,i=0;i<r;i++)e[i].apply(t)}unapply(t){for(var{transforms:e}=this,r=e.length,i=r-1;i>=0;i--)e[i].unapply(t)}applyToPoint(t){for(var{transforms:e}=this,r=e.length,i=0;i<r;i++)e[i].applyToPoint(t)}}tn.transformTypes={translate:K,rotate:$,scale:J,matrix:tt,skewX:tr,skewY:ti};class ta{constructor(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=t,this.node=e,this.captureTextNodes=r,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!e||1!==e.nodeType)return;// add attributes
Array.from(e.attributes).forEach(e=>{var r=m(e.nodeName);this.attributes[r]=new F(t,r,e.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(t=>t.trim()).forEach(e=>{if(e){var[r,i]=e.split(":").map(t=>t.trim());this.styles[r]=new F(t,r,i)}});var{definitions:i}=t,n=this.getAttribute("id");n.hasValue()&&!i[n.getString()]&&(i[n.getString()]=this),Array.from(e.childNodes).forEach(e=>{if(1===e.nodeType)this.addChild(e);// ELEMENT_NODE
else if(r&&(3===e.nodeType||4===e.nodeType)){var i=t.createTextNode(e);i.getText().length>0&&this.addChild(i);// TEXT_NODE
}})}getAttribute(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.attributes[t];if(!r&&e){var i=new F(this.document,t,"");return this.attributes[t]=i,i}return r||F.empty(this.document)}getHrefAttribute(){for(var t in this.attributes)if("href"===t||t.endsWith(":href"))return this.attributes[t];return F.empty(this.document)}getStyle(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.styles[t];if(i)return i;var n=this.getAttribute(t);if(null!=n&&n.hasValue())return this.styles[t]=n,n;if(!r){var{parent:a}=this;if(a){var s=a.getStyle(t);if(null!=s&&s.hasValue())return s}}if(e){var o=new F(this.document,t,"");return this.styles[t]=o,o}return i||F.empty(this.document)}render(t){// don't render display=none
// don't render visibility=hidden
if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(t.save(),this.getStyle("mask").hasValue()){// mask
var e=this.getStyle("mask").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else if("none"!==this.getStyle("filter").getValue("none")){// filter
var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(t),r.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){// transform
var e=tn.fromElement(this.document,this);e&&e.apply(t);// clip
var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var i=r.getDefinition();i&&i.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(e=>{e.render(t)})}addChild(t){var e=t instanceof ta?t:this.document.createElement(t);e.parent=this,ta.ignoreChildTypes.includes(e.type)||this.children.push(e)}matchesSelector(t){var e,{node:r}=this;if("function"==typeof r.matches)return r.matches(t);var i=null===(e=r.getAttribute)||void 0===e?void 0:e.call(r,"class");return!!i&&""!==i&&i.split(" ").some(e=>".".concat(e)===t)}addStylesFromStyleDefinition(){var{styles:t,stylesSpecificity:e}=this.document;for(var r in t)if(!r.startsWith("@")&&this.matchesSelector(r)){var i=t[r],n=e[r];if(i)for(var a in i){var s=this.stylesSpecificity[a];void 0===s&&(s="000"),n>=s&&(this.styles[a]=i[a],this.stylesSpecificity[a]=n)}}}removeStyles(t,e){return e.reduce((e,r)=>{var i=t.getStyle(r);if(!i.hasValue())return e;var n=i.getString();return i.setValue(""),[...e,[r,n]]},[])}restoreStyles(t,e){e.forEach(e=>{var[r,i]=e;t.getStyle(r,!0).setValue(i)})}isFirstChild(){var t;return(null===(t=this.parent)||void 0===t?void 0:t.children.indexOf(this))===0}}ta.ignoreChildTypes=["title"];class ts extends ta{constructor(t,e,r){super(t,e,r)}}function to(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}class tu{constructor(t,e,r,i,n,a){var s=a?"string"==typeof a?tu.parse(a):a:{};this.fontFamily=n||s.fontFamily,this.fontSize=i||s.fontSize,this.fontStyle=t||s.fontStyle,this.fontWeight=r||s.fontWeight,this.fontVariant=e||s.fontVariant}static parse(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,r="",i="",n="",a="",s="",o=p(t).trim().split(" "),u={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return o.forEach(t=>{switch(!0){case!u.fontStyle&&tu.styles.includes(t):"inherit"!==t&&(r=t),u.fontStyle=!0;break;case!u.fontVariant&&tu.variants.includes(t):"inherit"!==t&&(i=t),u.fontStyle=!0,u.fontVariant=!0;break;case!u.fontWeight&&tu.weights.includes(t):"inherit"!==t&&(n=t),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0;break;case!u.fontSize:"inherit"!==t&&([a]=t.split("/")),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0,u.fontSize=!0;break;default:"inherit"!==t&&(s+=t)}}),new tu(r,i,n,a,s,e)}toString(){var t;return[/**
 * https://developer.mozilla.org/en-US/docs/Web/CSS/font-style
 * @param fontStyle
 * @returns CSS font style.
 */function(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:if(/^oblique\s+(-|)\d+deg$/.test(e))return e;return""}}(this.fontStyle),this.fontVariant,/**
 * https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight
 * @param fontWeight
 * @returns CSS font weight.
 */function(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:if(/^[\d.]+$/.test(e))return e;return""}}(this.fontWeight),this.fontSize,(t=this.fontFamily,void 0===l?t:t.trim().split(",").map(to).join(","))].join(" ").trim()}}tu.styles="normal|italic|oblique|inherit",tu.variants="normal|small-caps|inherit",tu.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class th{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=t,this.y1=e,this.x2=r,this.y2=i,this.addPoint(t,e),this.addPoint(r,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,e){void 0!==t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),void 0!==e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addBoundingBox(t){if(t){var{x1:e,y1:r,x2:i,y2:n}=t;this.addPoint(e,r),this.addPoint(i,n)}}sumCubic(t,e,r,i,n){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*i+Math.pow(t,3)*n}bezierCurveAdd(t,e,r,i,n){var a=6*e-12*r+6*i,s=-3*e+9*r-9*i+3*n,o=3*r-3*e;if(0===s){if(0===a)return;var u=-o/a;0<u&&u<1&&(t?this.addX(this.sumCubic(u,e,r,i,n)):this.addY(this.sumCubic(u,e,r,i,n)));return}var h=Math.pow(a,2)-4*o*s;if(!(h<0)){var c=(-a+Math.sqrt(h))/(2*s);0<c&&c<1&&(t?this.addX(this.sumCubic(c,e,r,i,n)):this.addY(this.sumCubic(c,e,r,i,n)));var l=(-a-Math.sqrt(h))/(2*s);0<l&&l<1&&(t?this.addX(this.sumCubic(l,e,r,i,n)):this.addY(this.sumCubic(l,e,r,i,n)))}}addBezierCurve(t,e,r,i,n,a,s,o){this.addPoint(t,e),this.addPoint(s,o),this.bezierCurveAdd(!0,t,r,n,s),this.bezierCurveAdd(!1,e,i,a,o)}addQuadraticCurve(t,e,r,i,n,a){var s=t+2/3*(r-t),o=e+2/3*(i-e);// CP1 = QP0 + 2/3 *(QP1-QP0)
this.addBezierCurve(t,e,s,s+1/3*(n-t),o,o+1/3*(a-e),n,a)}isPointInBox(t,e){var{x1:r,y1:i,x2:n,y2:a}=this;return r<=t&&t<=n&&i<=e&&e<=a}}class tc extends h.SVGPathData{constructor(t){super(t// Fix spaces after signs.
.replace(/([+\-.])\s+/gm,"$1")// Remove invalid part.
.replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new H(0,0),this.control=new H(0,0),this.current=new H(0,0),this.points=[],this.angles=[]}isEnd(){var{i:t,commands:e}=this;return t>=e.length-1}next(){var t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",r=new H(this.command[t],this.command[e]);return this.makeAbsolute(r)}getAsControlPoint(t,e){var r=this.getPoint(t,e);return this.control=r,r}getAsCurrentPoint(t,e){var r=this.getPoint(t,e);return this.current=r,r}getReflectedControlPoint(){var t=this.previousCommand.type;if(t!==h.SVGPathData.CURVE_TO&&t!==h.SVGPathData.SMOOTH_CURVE_TO&&t!==h.SVGPathData.QUAD_TO&&t!==h.SVGPathData.SMOOTH_QUAD_TO)return this.current;// reflect point
var{current:{x:e,y:r},control:{x:i,y:n}}=this;return new H(2*e-i,2*r-n)}makeAbsolute(t){if(this.command.relative){var{x:e,y:r}=this.current;t.x+=e,t.y+=r}return t}addMarker(t,e,r){var{points:i,angles:n}=this;// if the last angle isn't filled in because we didn't have this point yet ...
r&&n.length>0&&!n[n.length-1]&&(n[n.length-1]=i[i.length-1].angleTo(r)),this.addMarkerAngle(t,e?e.angleTo(t):null)}addMarkerAngle(t,e){this.points.push(t),this.angles.push(e)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:t}=this,e=t.length,r=0;r<e;r++)if(!t[r]){for(var i=r+1;i<e;i++)if(t[i]){t[r]=t[i];break}}return t}}class tl extends ta{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var t=1,e=this;e;){var r=e.getStyle("opacity",!1,!0);// no ancestors on style call
r.hasValue(!0)&&(t*=r.getNumber()),e=e.parent}return t}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){// causes stack overflow when measuring text with gradients
// fill
var r=this.getStyle("fill"),i=this.getStyle("fill-opacity"),n=this.getStyle("stroke"),a=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var s=r.getFillStyleDefinition(this,i);s&&(t.fillStyle=s)}else if(r.hasValue()){"currentColor"===r.getString()&&r.setValue(this.getStyle("color").getColor());var o=r.getColor();"inherit"!==o&&(t.fillStyle="none"===o?"rgba(0,0,0,0)":o)}if(i.hasValue()){var u=new F(this.document,"fill",t.fillStyle).addOpacity(i).getColor();t.fillStyle=u}// stroke
if(n.isUrlDefinition()){var h=n.getFillStyleDefinition(this,a);h&&(t.strokeStyle=h)}else if(n.hasValue()){"currentColor"===n.getString()&&n.setValue(this.getStyle("color").getColor());var c=n.getString();"inherit"!==c&&(t.strokeStyle="none"===c?"rgba(0,0,0,0)":c)}if(a.hasValue()){var l=new F(this.document,"stroke",t.strokeStyle).addOpacity(a).getString();t.strokeStyle=l}var f=this.getStyle("stroke-width");if(f.hasValue()){var p=f.getPixels();t.lineWidth=p||M// browsers don't respect 0 (or node-canvas? :-)
}var g=this.getStyle("stroke-linecap"),d=this.getStyle("stroke-linejoin"),y=this.getStyle("stroke-miterlimit"),m=this.getStyle("stroke-dasharray"),x=this.getStyle("stroke-dashoffset");// NEED TEST
// if (pointOrderStyleProp.hasValue()) {
// 	// ?
// 	ctx.paintOrder = pointOrderStyleProp.getValue();
// }
if(g.hasValue()&&(t.lineCap=g.getString()),d.hasValue()&&(t.lineJoin=d.getString()),y.hasValue()&&(t.miterLimit=y.getNumber()),m.hasValue()&&"none"!==m.getString()){var b=v(m.getString());void 0!==t.setLineDash?t.setLineDash(b):void 0!==t.webkitLineDash?t.webkitLineDash=b:void 0===t.mozDash||1===b.length&&0===b[0]||(t.mozDash=b);var S=x.getPixels();void 0!==t.lineDashOffset?t.lineDashOffset=S:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=S:void 0!==t.mozDashOffset&&(t.mozDashOffset=S)}}// font
if(this.modifiedEmSizeStack=!1,void 0!==t.font){var T=this.getStyle("font"),w=this.getStyle("font-style"),A=this.getStyle("font-variant"),E=this.getStyle("font-weight"),P=this.getStyle("font-size"),O=this.getStyle("font-family"),C=new tu(w.getString(),A.getString(),E.getString(),P.hasValue()?"".concat(P.getPixels(!0),"px"):"",O.getString(),tu.parse(T.getString(),t.font));w.setValue(C.fontStyle),A.setValue(C.fontVariant),E.setValue(C.fontWeight),P.setValue(C.fontSize),O.setValue(C.fontFamily),t.font=C.toString(),P.isPixels()&&(this.document.emSize=P.getPixels(),this.modifiedEmSizeStack=!0)}e||(// effects
this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}}class tf extends tl{constructor(t,e,r){super(t,e,r),this.type="path",this.pathParser=null,this.pathParser=new tc(this.getAttribute("d").getString())}path(t){var{pathParser:e}=this,r=new th;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.next().type){case tc.MOVE_TO:this.pathM(t,r);break;case tc.LINE_TO:this.pathL(t,r);break;case tc.HORIZ_LINE_TO:this.pathH(t,r);break;case tc.VERT_LINE_TO:this.pathV(t,r);break;case tc.CURVE_TO:this.pathC(t,r);break;case tc.SMOOTH_CURVE_TO:this.pathS(t,r);break;case tc.QUAD_TO:this.pathQ(t,r);break;case tc.SMOOTH_QUAD_TO:this.pathT(t,r);break;case tc.ARC:this.pathA(t,r);break;case tc.CLOSE_PATH:this.pathZ(t,r)}return r}getBoundingBox(t){return this.path()}getMarkers(){var{pathParser:t}=this,e=t.getMarkerPoints(),r=t.getMarkerAngles();return e.map((t,e)=>[t,r[e]])}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule");""!==t.fillStyle&&("inherit"!==e.getString("inherit")?t.fill(e.getString()):t.fill()),""!==t.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());var r=this.getMarkers();if(r){var i=r.length-1,n=this.getStyle("marker-start"),a=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(n.isUrlDefinition()){var o=n.getDefinition(),[u,h]=r[0];o.render(t,u,h)}if(a.isUrlDefinition())for(var c=a.getDefinition(),l=1;l<i;l++){var[f,p]=r[l];c.render(t,f,p)}if(s.isUrlDefinition()){var g=s.getDefinition(),[d,v]=r[i];g.render(t,d,v)}}}static pathM(t){var e=t.getAsCurrentPoint();return t.start=t.current,{point:e}}pathM(t,e){var{pathParser:r}=this,{point:i}=tf.pathM(r),{x:n,y:a}=i;r.addMarker(i),e.addPoint(n,a),t&&t.moveTo(n,a)}static pathL(t){var{current:e}=t;return{current:e,point:t.getAsCurrentPoint()}}pathL(t,e){var{pathParser:r}=this,{current:i,point:n}=tf.pathL(r),{x:a,y:s}=n;r.addMarker(n,i),e.addPoint(a,s),t&&t.lineTo(a,s)}static pathH(t){var{current:e,command:r}=t,i=new H((r.relative?e.x:0)+r.x,e.y);return t.current=i,{current:e,point:i}}pathH(t,e){var{pathParser:r}=this,{current:i,point:n}=tf.pathH(r),{x:a,y:s}=n;r.addMarker(n,i),e.addPoint(a,s),t&&t.lineTo(a,s)}static pathV(t){var{current:e,command:r}=t,i=new H(e.x,(r.relative?e.y:0)+r.y);return t.current=i,{current:e,point:i}}pathV(t,e){var{pathParser:r}=this,{current:i,point:n}=tf.pathV(r),{x:a,y:s}=n;r.addMarker(n,i),e.addPoint(a,s),t&&t.lineTo(a,s)}static pathC(t){var{current:e}=t;return{current:e,point:t.getPoint("x1","y1"),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathC(t,e){var{pathParser:r}=this,{current:i,point:n,controlPoint:a,currentPoint:s}=tf.pathC(r);r.addMarker(s,a,n),e.addBezierCurve(i.x,i.y,n.x,n.y,a.x,a.y,s.x,s.y),t&&t.bezierCurveTo(n.x,n.y,a.x,a.y,s.x,s.y)}static pathS(t){var{current:e}=t;return{current:e,point:t.getReflectedControlPoint(),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathS(t,e){var{pathParser:r}=this,{current:i,point:n,controlPoint:a,currentPoint:s}=tf.pathS(r);r.addMarker(s,a,n),e.addBezierCurve(i.x,i.y,n.x,n.y,a.x,a.y,s.x,s.y),t&&t.bezierCurveTo(n.x,n.y,a.x,a.y,s.x,s.y)}static pathQ(t){var{current:e}=t;return{current:e,controlPoint:t.getAsControlPoint("x1","y1"),currentPoint:t.getAsCurrentPoint()}}pathQ(t,e){var{pathParser:r}=this,{current:i,controlPoint:n,currentPoint:a}=tf.pathQ(r);r.addMarker(a,n,n),e.addQuadraticCurve(i.x,i.y,n.x,n.y,a.x,a.y),t&&t.quadraticCurveTo(n.x,n.y,a.x,a.y)}static pathT(t){var{current:e}=t,r=t.getReflectedControlPoint();return t.control=r,{current:e,controlPoint:r,currentPoint:t.getAsCurrentPoint()}}pathT(t,e){var{pathParser:r}=this,{current:i,controlPoint:n,currentPoint:a}=tf.pathT(r);r.addMarker(a,n,n),e.addQuadraticCurve(i.x,i.y,n.x,n.y,a.x,a.y),t&&t.quadraticCurveTo(n.x,n.y,a.x,a.y)}static pathA(t){var{current:e,command:r}=t,{rX:i,rY:n,xRot:a,lArcFlag:s,sweepFlag:o}=r,u=a*(Math.PI/180),h=t.getAsCurrentPoint(),c=new H(Math.cos(u)*(e.x-h.x)/2+Math.sin(u)*(e.y-h.y)/2,-Math.sin(u)*(e.x-h.x)/2+Math.cos(u)*(e.y-h.y)/2),l=Math.pow(c.x,2)/Math.pow(i,2)+Math.pow(c.y,2)/Math.pow(n,2);l>1&&(i*=Math.sqrt(l),n*=Math.sqrt(l));var f=(s===o?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(n,2)-Math.pow(i,2)*Math.pow(c.y,2)-Math.pow(n,2)*Math.pow(c.x,2))/(Math.pow(i,2)*Math.pow(c.y,2)+Math.pow(n,2)*Math.pow(c.x,2)));isNaN(f)&&(f=0);var p=new H(f*i*c.y/n,-(f*n)*c.x/i),g=new H((e.x+h.x)/2+Math.cos(u)*p.x-Math.sin(u)*p.y,(e.y+h.y)/2+Math.sin(u)*p.x+Math.cos(u)*p.y),d=V([1,0],[(c.x-p.x)/i,(c.y-p.y)/n]),v=[(c.x-p.x)/i,(c.y-p.y)/n],y=[(-c.x-p.x)/i,(-c.y-p.y)/n],m=V(v,y);// cx, cy
return -1>=k(v,y)&&(m=Math.PI),k(v,y)>=1&&(m=0),{currentPoint:h,rX:i,rY:n,sweepFlag:o,xAxisRotation:u,centp:g,a1:d,ad:m}}pathA(t,e){var{pathParser:r}=this,{currentPoint:i,rX:n,rY:a,sweepFlag:s,xAxisRotation:o,centp:u,a1:h,ad:c}=tf.pathA(r),l=1-s?1:-1,f=h+l*(c/2),p=new H(u.x+n*Math.cos(f),u.y+a*Math.sin(f));if(r.addMarkerAngle(p,f-l*Math.PI/2),r.addMarkerAngle(i,f-l*Math.PI),e.addPoint(i.x,i.y),t&&!isNaN(h)&&!isNaN(c)){var g=n>a?1:n/a,d=n>a?a/n:1;t.translate(u.x,u.y),t.rotate(o),t.scale(g,d),t.arc(0,0,n>a?n:a,h,h+c,!!(1-s)),t.scale(1/g,1/d),t.rotate(-o),t.translate(-u.x,-u.y)}}static pathZ(t){t.current=t.start}pathZ(t,e){tf.pathZ(this.pathParser),t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath()}}class tp extends tf{constructor(t,e,r){super(t,e,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class tg extends tl{constructor(t,e,r){super(t,e,new.target===tg||r),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(t,e);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(t.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if("text"!==this.type)return this.getTElementBoundingBox(t);// first, calculate child positions
this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);var e=null;// then calculate bounding box
return this.children.forEach((r,i)=>{var n=this.getChildBoundingBox(t,this,this,i);e?e.addBoundingBox(n):e=n}),e}getFontSize(){var{document:t,parent:e}=this,r=tu.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(r)}getTElementBoundingBox(t){var e=this.getFontSize();return new th(this.x,this.y-e,this.x+this.measureText(t),this.y)}getGlyph(t,e,r){var i=e[r],n=null;if(t.isArabic){var a=e.length,s=e[r-1],o=e[r+1],u="isolated";if((0===r||" "===s)&&r<a-1&&" "!==o&&(u="terminal"),r>0&&" "!==s&&r<a-1&&" "!==o&&(u="medial"),r>0&&" "!==s&&(r===a-1||" "===o)&&(u="initial"),void 0!==t.glyphs[i]){// NEED TEST
var h=t.glyphs[i];n=h instanceof tp?h:h[u]}}else n=t.glyphs[i];return n||(n=t.missingGlyph),n}getText(){return""}getTextFromNode(t){var e=t||this.node,r=Array.from(e.parentNode.childNodes),i=r.indexOf(e),n=r.length-1,a=p(e.textContent||"");return 0===i&&(a=g(a)),i===n&&(a=d(a)),a}renderChildren(t){if("text"!==this.type){this.renderTElementChildren(t);return}// first, calculate child positions
this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((e,r)=>{this.renderChild(t,this,this,r)});var{mouse:e}=this.document.screen;// Do not calc bounding box if mouse is not working.
e.isWorking()&&e.checkBoundingBox(this,this.getBoundingBox(t))}renderTElementChildren(t){var{document:e,parent:r}=this,i=this.getText(),n=r.getStyle("font-family").getDefinition();if(n){for(var{unitsPerEm:a}=n.fontFace,s=tu.parse(e.ctx.font),o=r.getStyle("font-size").getNumber(s.fontSize),u=r.getStyle("font-style").getString(s.fontStyle),h=o/a,c=n.isRTL?i.split("").reverse().join(""):i,l=v(r.getAttribute("dx").getString()),f=c.length,p=0;p<f;p++){var g=this.getGlyph(n,c,p);t.translate(this.x,this.y),t.scale(h,-h);var d=t.lineWidth;t.lineWidth=t.lineWidth*a/o,"italic"===u&&t.transform(1,0,.4,1,0,0),g.render(t),"italic"===u&&t.transform(1,0,-.4,1,0,0),t.lineWidth=d,t.scale(1/h,-1/h),t.translate(-this.x,-this.y),this.x+=o*(g.horizAdvX||n.horizAdvX)/a,void 0===l[p]||isNaN(l[p])||(this.x+=l[p])}return}var{x:y,y:m}=this;// NEED TEST
t.fillStyle&&t.fillText(i,y,m),t.strokeStyle&&t.strokeText(i,y,m);// }
}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){// This is basically the "Apply anchoring" part of https://www.w3.org/TR/SVG2/text.html#TextLayoutAlgorithm.
// The difference is that we apply the anchoring as soon as a chunk is finished. This saves some extra looping.
// Vertical text is not supported.
var t=this.leafTexts[this.textChunkStart],e=t.getStyle("text-anchor").getString("start"),r=0;r="start"===e?t.x-this.minX:"end"===e?t.x-this.maxX:t.x-(this.minX+this.maxX)/2;for(var i=this.textChunkStart;i<this.leafTexts.length;i++)this.leafTexts[i].x+=r;// start new chunk
this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(t){this.children.forEach((e,r)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,e,r,i){var n=r.children[i];n.children.length>0?n.children.forEach((r,i)=>{e.adjustChildCoordinatesRecursiveCore(t,e,n,i)}):this.adjustChildCoordinates(t,e,r,i)}adjustChildCoordinates(t,e,r,i){var n=r.children[i];if("function"!=typeof n.measureText)return n;t.save(),n.setContext(t,!0);var a=n.getAttribute("x"),s=n.getAttribute("y"),o=n.getAttribute("dx"),u=n.getAttribute("dy"),h=n.getStyle("font-family").getDefinition(),c=!!h&&h.isRTL;0!==i||(a.hasValue()||a.setValue(n.getInheritedAttribute("x")),s.hasValue()||s.setValue(n.getInheritedAttribute("y")),o.hasValue()||o.setValue(n.getInheritedAttribute("dx")),u.hasValue()||u.setValue(n.getInheritedAttribute("dy")));var l=n.measureText(t);return c&&(e.x-=l),a.hasValue()?(// an "x" attribute marks the start of a new chunk
e.applyAnchoring(),n.x=a.getPixels("x"),o.hasValue()&&(n.x+=o.getPixels("x"))):(o.hasValue()&&(e.x+=o.getPixels("x")),n.x=e.x),e.x=n.x,c||(e.x+=l),s.hasValue()?(n.y=s.getPixels("y"),u.hasValue()&&(n.y+=u.getPixels("y"))):(u.hasValue()&&(e.y+=u.getPixels("y")),n.y=e.y),e.y=n.y,e.leafTexts.push(n),e.minX=Math.min(e.minX,n.x,n.x+l),e.maxX=Math.max(e.maxX,n.x,n.x+l),n.clearContext(t),t.restore(),n}getChildBoundingBox(t,e,r,i){var n=r.children[i];// not a text node?
if("function"!=typeof n.getBoundingBox)return null;var a=n.getBoundingBox(t);return a?(n.children.forEach((r,i)=>{var s=e.getChildBoundingBox(t,e,n,i);a.addBoundingBox(s)}),a):null}renderChild(t,e,r,i){var n=r.children[i];n.render(t),n.children.forEach((r,i)=>{e.renderChild(t,e,n,i)})}measureText(t){var{measureCache:e}=this;if(~e)return e;var r=this.getText(),i=this.measureTargetText(t,r);return this.measureCache=i,i}measureTargetText(t,e){if(!e.length)return 0;var{parent:r}=this,i=r.getStyle("font-family").getDefinition();if(i){for(var n=this.getFontSize(),a=i.isRTL?e.split("").reverse().join(""):e,s=v(r.getAttribute("dx").getString()),o=a.length,u=0,h=0;h<o;h++)u+=(this.getGlyph(i,a,h).horizAdvX||i.horizAdvX)*n/i.fontFace.unitsPerEm,void 0===s[h]||isNaN(s[h])||(u+=s[h]);return u}if(!t.measureText)return 10*e.length;t.save(),this.setContext(t,!0);var{width:c}=t.measureText(e);return this.clearContext(t),t.restore(),c}/**
   * Inherits positional attributes from {@link TextElement} parent(s). Attributes
   * are only inherited from a parent to its first child.
   * @param name - The attribute name.
   * @returns The attribute value or null.
   */getInheritedAttribute(t){for(// eslint-disable-next-line @typescript-eslint/no-this-alias,consistent-this
var e=this;e instanceof tg&&e.isFirstChild();){var r=e.parent.getAttribute(t);if(r.hasValue(!0))return r.getValue("0");e=e.parent}return null}}class td extends tg{constructor(t,e,r){super(t,e,new.target===td||r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class tv extends td{constructor(){super(...arguments),this.type="textNode"}}class ty extends tl{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(t){var e,{document:r}=this,{screen:i,window:n}=r,a=t.canvas;if(i.setDefaults(t),a.style&&void 0!==t.font&&n&&void 0!==n.getComputedStyle){t.font=n.getComputedStyle(a).getPropertyValue("font");var s=new F(r,"fontSize",tu.parse(t.font).fontSize);s.hasValue()&&(r.rootEmSize=s.getPixels("y"),r.emSize=r.rootEmSize)}// create new view port
this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:o,height:u}=i.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var h=this.getAttribute("refX"),c=this.getAttribute("refY"),l=this.getAttribute("viewBox"),f=l.hasValue()?v(l.getString()):null,p=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),g=0,d=0,y=0,m=0;f&&(g=f[0],d=f[1]),this.root||(o=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),"marker"!==this.type||(y=g,m=d,g=0,d=0)),i.viewPort.setCurrent(o,u),this.node// is not temporary SVGElement
&&(!this.parent||(null===(e=this.node.parentNode)||void 0===e?void 0:e.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),f&&(o=f[2],u=f[3]),r.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:o,height:i.viewPort.height,desiredHeight:u,minX:g,minY:d,refX:h.getValue(),refY:c.getValue(),clip:p,clipX:y,clipY:m}),f&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(o,u))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}/**
   * Resize SVG to fit in given size.
   * @param width
   * @param height
   * @param preserveAspectRatio
   */resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getAttribute("width",!0),n=this.getAttribute("height",!0),a=this.getAttribute("viewBox"),s=this.getAttribute("style"),o=i.getNumber(0),u=n.getNumber(0);if(r){if("string"==typeof r)this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var h=this.getAttribute("preserveAspectRatio");h.hasValue()&&h.setValue(h.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}}if(i.setValue(t),n.setValue(e),a.hasValue()||a.setValue("0 0 ".concat(o||t," ").concat(u||e)),s.hasValue()){var c=this.getStyle("width"),l=this.getStyle("height");c.hasValue()&&c.setValue("".concat(t,"px")),l.hasValue()&&l.setValue("".concat(e,"px"))}}}class tm extends tf{constructor(){super(...arguments),this.type="rect"}path(t){var e=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),i=this.getStyle("width",!1,!0).getPixels("x"),n=this.getStyle("height",!1,!0).getPixels("y"),a=this.getAttribute("rx"),s=this.getAttribute("ry"),o=a.getPixels("x"),u=s.getPixels("y");if(a.hasValue()&&!s.hasValue()&&(u=o),s.hasValue()&&!a.hasValue()&&(o=u),o=Math.min(o,i/2),u=Math.min(u,n/2),t){var h=4*((Math.sqrt(2)-1)/3);t.beginPath(),n>0&&i>0&&(t.moveTo(e+o,r),t.lineTo(e+i-o,r),t.bezierCurveTo(e+i-o+h*o,r,e+i,r+u-h*u,e+i,r+u),t.lineTo(e+i,r+n-u),t.bezierCurveTo(e+i,r+n-u+h*u,e+i-o+h*o,r+n,e+i-o,r+n),t.lineTo(e+o,r+n),t.bezierCurveTo(e+o-h*o,r+n,e,r+n-u+h*u,e,r+n-u),t.lineTo(e,r+u),t.bezierCurveTo(e,r+u-h*u,e+o-h*o,r,e+o,r),t.closePath())}return new th(e,r,e+i,r+n)}getMarkers(){return null}}class tx extends tf{constructor(){super(...arguments),this.type="circle"}path(t){var e=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),i=this.getAttribute("r").getPixels();return t&&i>0&&(t.beginPath(),t.arc(e,r,i,0,2*Math.PI,!1),t.closePath()),new th(e-i,r-i,e+i,r+i)}getMarkers(){return null}}class tb extends tf{constructor(){super(...arguments),this.type="ellipse"}path(t){var e=4*((Math.sqrt(2)-1)/3),r=this.getAttribute("rx").getPixels("x"),i=this.getAttribute("ry").getPixels("y"),n=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y");return t&&r>0&&i>0&&(t.beginPath(),t.moveTo(n+r,a),t.bezierCurveTo(n+r,a+e*i,n+e*r,a+i,n,a+i),t.bezierCurveTo(n-e*r,a+i,n-r,a+e*i,n-r,a),t.bezierCurveTo(n-r,a-e*i,n-e*r,a-i,n,a-i),t.bezierCurveTo(n+e*r,a-i,n+r,a-e*i,n+r,a),t.closePath()),new th(n-r,a-i,n+r,a+i)}getMarkers(){return null}}class tS extends tf{constructor(){super(...arguments),this.type="line"}getPoints(){return[new H(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new H(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){var[{x:e,y:r},{x:i,y:n}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(e,r),t.lineTo(i,n)),new th(e,r,i,n)}getMarkers(){var[t,e]=this.getPoints(),r=t.angleTo(e);return[[t,r],[e,r]]}}class tT extends tf{constructor(t,e,r){super(t,e,r),this.type="polyline",this.points=[],this.points=H.parsePath(this.getAttribute("points").getString())}path(t){var{points:e}=this,[{x:r,y:i}]=e,n=new th(r,i);return t&&(t.beginPath(),t.moveTo(r,i)),e.forEach(e=>{var{x:r,y:i}=e;n.addPoint(r,i),t&&t.lineTo(r,i)}),n}getMarkers(){var{points:t}=this,e=t.length-1,r=[];return t.forEach((i,n)=>{n!==e&&r.push([i,i.angleTo(t[n+1])])}),r.length>0&&r.push([t[t.length-1],r[r.length-1][1]]),r}}class tw extends tT{constructor(){super(...arguments),this.type="polygon"}path(t){var e=super.path(t),[{x:r,y:i}]=this.points;return t&&(t.lineTo(r,i),t.closePath()),e}}class tA extends ta{constructor(){super(...arguments),this.type="pattern"}createPattern(t,e,r){var i=this.getStyle("width").getPixels("x",!0),n=this.getStyle("height").getPixels("y",!0),a=new ty(this.document,null);a.attributes.viewBox=new F(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new F(this.document,"width","".concat(i,"px")),a.attributes.height=new F(this.document,"height","".concat(n,"px")),a.attributes.transform=new F(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children;var s=this.document.createCanvas(i,n),o=s.getContext("2d"),u=this.getAttribute("x"),h=this.getAttribute("y");u.hasValue()&&h.hasValue()&&o.translate(u.getPixels("x",!0),h.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");// render 3x3 grid so when we transform there's no white space on edges
for(var c=-1;c<=1;c++)for(var l=-1;l<=1;l++)o.save(),a.attributes.x=new F(this.document,"x",c*s.width),a.attributes.y=new F(this.document,"y",l*s.height),a.render(o),o.restore();return t.createPattern(s,"repeat")}}class tE extends ta{constructor(){super(...arguments),this.type="marker"}render(t,e,r){if(e){var{x:i,y:n}=e,a=this.getAttribute("orient").getString("auto"),s=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(i,n),"auto"===a&&t.rotate(r),"strokeWidth"===s&&t.scale(t.lineWidth,t.lineWidth),t.save();var o=new ty(this.document,null);o.type=this.type,o.attributes.viewBox=new F(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.refX=new F(this.document,"refX",this.getAttribute("refX").getValue()),o.attributes.refY=new F(this.document,"refY",this.getAttribute("refY").getValue()),o.attributes.width=new F(this.document,"width",this.getAttribute("markerWidth").getValue()),o.attributes.height=new F(this.document,"height",this.getAttribute("markerHeight").getValue()),o.attributes.overflow=new F(this.document,"overflow",this.getAttribute("overflow").getValue()),o.attributes.fill=new F(this.document,"fill",this.getAttribute("fill").getColor("black")),o.attributes.stroke=new F(this.document,"stroke",this.getAttribute("stroke").getValue("none")),o.children=this.children,o.render(t),t.restore(),"strokeWidth"===s&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===a&&t.rotate(-r),t.translate(-i,-n)}}}class tP extends ta{constructor(){super(...arguments),this.type="defs"}render(){}}class tO extends tl{constructor(){super(...arguments),this.type="g"}getBoundingBox(t){var e=new th;return this.children.forEach(r=>{e.addBoundingBox(r.getBoundingBox(t))}),e}}class tC extends ta{constructor(t,e,r){super(t,e,r),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:i,children:n}=this;n.forEach(t=>{"stop"===t.type&&i.push(t)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,e,r){// eslint-disable-next-line @typescript-eslint/no-this-alias, consistent-this
var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var{stops:n}=i,a=this.getGradient(t,e);if(!a)return this.addParentOpacity(r,n[n.length-1].color);if(n.forEach(t=>{a.addColorStop(t.offset,this.addParentOpacity(r,t.color))}),this.getAttribute("gradientTransform").hasValue()){// render as transformed pattern on temporary canvas
var{document:s}=this,{MAX_VIRTUAL_PIXELS:o,viewPort:u}=s.screen,[h]=u.viewPorts,c=new tm(s,null);c.attributes.x=new F(s,"x",-o/3),c.attributes.y=new F(s,"y",-o/3),c.attributes.width=new F(s,"width",o),c.attributes.height=new F(s,"height",o);var l=new tO(s,null);l.attributes.transform=new F(s,"transform",this.getAttribute("gradientTransform").getValue()),l.children=[c];var f=new ty(s,null);f.attributes.x=new F(s,"x",0),f.attributes.y=new F(s,"y",0),f.attributes.width=new F(s,"width",h.width),f.attributes.height=new F(s,"height",h.height),f.children=[l];var p=s.createCanvas(h.width,h.height),g=p.getContext("2d");return g.fillStyle=a,f.render(g),g.createPattern(p,"no-repeat")}return a}inheritStopContainer(t){this.attributesToInherit.forEach(e=>{!this.getAttribute(e).hasValue()&&t.getAttribute(e).hasValue()&&this.getAttribute(e,!0).setValue(t.getAttribute(e).getValue())})}addParentOpacity(t,e){return t.hasValue()?new F(this.document,"color",e).addOpacity(t).getColor():e}}class tN extends tC{constructor(t,e,r){super(t,e,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(t,e){var r="objectBoundingBox"===this.getGradientUnits(),i=r?e.getBoundingBox(t):null;if(r&&!i)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var n=r?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),a=r?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),s=r?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),o=r?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return n===s&&a===o?null:t.createLinearGradient(n,a,s,o)}}class tM extends tC{constructor(t,e,r){super(t,e,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(t,e){var r="objectBoundingBox"===this.getGradientUnits(),i=e.getBoundingBox(t);if(r&&!i)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var n=r?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),a=r?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),s=n,o=a;this.getAttribute("fx").hasValue()&&(s=r?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(o=r?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=r?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),h=this.getAttribute("fr").getPixels();return t.createRadialGradient(s,o,h,n,a,u)}}class tR extends ta{constructor(t,e,r){super(t,e,r),this.type="stop";var i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),n=this.getStyle("stop-opacity"),a=this.getStyle("stop-color",!0);""===a.getString()&&a.setValue("#000"),n.hasValue()&&(a=a.addOpacity(n)),this.offset=i,this.color=a.getColor()}}class tk extends ta{constructor(t,e,r){super(t,e,r),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new F(t,"values",null);var i=this.getAttribute("values");i.hasValue()&&this.values.setValue(i.getString().split(";"))}getProperty(){var t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}calcValue(){var{initialUnits:t}=this,{progress:e,from:r,to:i}=this.getProgress(),n=r.getNumber()+(i.getNumber()-r.getNumber())*e;return"%"===t&&(n*=100),"".concat(n).concat(t)}update(t){var{parent:e}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var i=this.getAttribute("fill").getString("remove");// loop for indefinitely repeating animations
if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==i||this.frozen){if("remove"===i&&!this.removed)return this.removed=!0,r.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=r.getString();return!1}this.duration+=t;var n=!1;if(this.begin<this.duration){var a=this.calcValue(),s=this.getAttribute("type");// tween
if(s.hasValue()){// for transform, etc.
var o=s.getString();a="".concat(o,"(").concat(a,")")}r.setValue(a),n=!0}return n}getProgress(){var{document:t,values:e}=this,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(e.hasValue()){var i=r.progress*(e.getValue().length-1),n=Math.floor(i),a=Math.ceil(i);r.from=new F(t,"from",parseFloat(e.getValue()[n])),r.to=new F(t,"to",parseFloat(e.getValue()[a])),r.progress=(i-n)/(a-n)}else r.from=this.from,r.to=this.to;return r}}class tV extends tk{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:r,to:i}=this.getProgress(),n=new/*@__PURE__*/(t(u))(r.getColor()),a=new/*@__PURE__*/(t(u))(i.getColor());if(n.ok&&a.ok){// tween color linearly
var s=n.r+(a.r-n.r)*e,o=n.g+(a.g-n.g)*e,h=n.b+(a.b-n.b)*e;return"rgb(".concat(Math.floor(s),", ").concat(Math.floor(o),", ").concat(Math.floor(h),")")}return this.getAttribute("from").getColor()}}class t_ extends tk{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:t,from:e,to:r}=this.getProgress(),i=v(e.getString()),n=v(r.getString());// tween value linearly
return i.map((e,r)=>e+(n[r]-e)*t).join(" ")}}class tI extends ta{constructor(t,e,r){super(t,e,r),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:i}=t,{children:n}=this;for(var a of n)switch(a.type){case"font-face":this.fontFace=a;var s=a.getStyle("font-family");s.hasValue()&&(i[s.getString()]=this);break;case"missing-glyph":this.missingGlyph=a;break;case"glyph":a.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[a.unicode]&&(this.glyphs[a.unicode]={}),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a}}render(){}}class tD extends ta{constructor(t,e,r){super(t,e,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class tj extends tf{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class tL extends tg{constructor(){super(...arguments),this.type="tref"}getText(){var t=this.getHrefAttribute().getDefinition();if(t){var e=t.children[0];if(e)return e.getText()}return""}}class tz extends tg{constructor(t,e,r){super(t,e,r),this.type="a";var{childNodes:i}=e,n=i[0],a=i.length>0&&Array.from(i).every(t=>3===t.nodeType);this.hasText=a,this.text=a?this.getTextFromNode(n):""}getText(){return this.text}renderChildren(t){if(this.hasText){// render as text element
super.renderChildren(t);var{document:e,x:r,y:i}=this,{mouse:n}=e.screen,a=new F(e,"fontSize",tu.parse(e.ctx.font).fontSize);n.isWorking()&&n.checkBoundingBox(this,new th(r,i-a.getPixels("y"),r+this.measureText(t),i))}else if(this.children.length>0){// render as temporary group
var s=new tO(this.document,null);s.children=this.children,s.parent=this,s.render(t)}}onClick(){var{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function tB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function tF(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?tB(Object(i),!0).forEach(function(r){/*@__PURE__*/t(s)(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):tB(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}class tU extends tg{constructor(t,e,r){super(t,e,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}getText(){return this.text}path(t){var{dataArray:e}=this;t&&t.beginPath(),e.forEach(e=>{var{type:r,points:i}=e;switch(r){case tc.LINE_TO:t&&t.lineTo(i[0],i[1]);break;case tc.MOVE_TO:t&&t.moveTo(i[0],i[1]);break;case tc.CURVE_TO:t&&t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case tc.QUAD_TO:t&&t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case tc.ARC:var[n,a,s,o,u,h,c,l]=i,f=s>o?1:s/o,p=s>o?o/s:1;t&&(t.translate(n,a),t.rotate(c),t.scale(f,p),t.arc(0,0,s>o?s:o,u,u+h,!!(1-l)),t.scale(1/f,1/p),t.rotate(-c),t.translate(-n,-a));break;case tc.CLOSE_PATH:t&&t.closePath()}})}renderChildren(t){this.setTextData(t),t.save();var e=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:i}=this,n=t.fillStyle;"underline"===e&&t.beginPath(),i.forEach((i,n)=>{var{p0:a,p1:s,rotation:o,text:u}=i;t.save(),t.translate(a.x,a.y),t.rotate(o),t.fillStyle&&t.fillText(u,0,0),t.strokeStyle&&t.strokeText(u,0,0),t.restore(),"underline"===e&&(0===n&&t.moveTo(a.x,a.y+r/8),t.lineTo(s.x,s.y+r/5));//
// ctx.beginPath();
// if (i % 2)
// 	ctx.strokeStyle = 'red';
// else
// 	ctx.strokeStyle = 'green';
// ctx.moveTo(p0.x, p0.y);
// ctx.lineTo(p1.x, p1.y);
// ctx.stroke();
// ctx.closePath();
}),"underline"===e&&(t.lineWidth=r/20,t.strokeStyle=n,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,e,r,i,n,a,s,o,u){var h=a,c=this.measureText(t,o);" "===o&&"justify"===e&&r<i&&(c+=(i-r)/n),u>-1&&(h+=this.getLetterSpacingAt(u));var l=this.textHeight/20,f=this.getEquidistantPointOnPath(h,l,0),p=this.getEquidistantPointOnPath(h+c,l,0),g={p0:f,p1:p},d=f&&p?Math.atan2(p.y-f.y,p.x-f.x):0;if(s){var v=Math.cos(Math.PI/2+d)*s,y=Math.cos(-d)*s;g.p0=tF(tF({},f),{},{x:f.x+v,y:f.y+y}),g.p1=tF(tF({},p),{},{x:p.x+v,y:p.y+y})}return{offset:h+=c,segment:g,rotation:d}}measureText(t,e){var{measuresCache:r}=this,i=e||this.getText();if(r.has(i))return r.get(i);var n=this.measureTargetText(t,i);return r.set(i,n),n}// If some font will be loaded after this method call, <textPath> will not be rendered correctly.
// You need to call this method manually to update glyphs cache.
setTextData(t){if(!this.glyphInfo){var e=this.getText(),r=e.split(""),i=e.split(" ").length-1,n=this.parent.getAttribute("dx").split().map(t=>t.getPixels("x")),a=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),o=this.getStyle("letter-spacing"),u=this.parent.getStyle("letter-spacing"),h=0;o.hasValue()&&"inherit"!==o.getValue()?o.hasValue()&&"initial"!==o.getValue()&&"unset"!==o.getValue()&&(h=o.getPixels()):h=u.getPixels();var c=[],l=e.length;this.letterSpacingCache=c;for(var f=0;f<l;f++)c.push(void 0!==n[f]?n[f]:h);var p=c.reduce((t,e,r)=>0===r?0:t+e||0,0),g=this.measureText(t),d=Math.max(g+p,0);this.textWidth=g,this.textHeight=this.getFontSize(),this.glyphInfo=[];var v=this.getPathLength(),y=this.getStyle("startOffset").getNumber(0)*v,m=0;("middle"===s||"center"===s)&&(m=-d/2),("end"===s||"right"===s)&&(m=-d),m+=y,r.forEach((e,n)=>{// Find such segment what distance between p0 and p1 is approx. width of glyph
var{offset:o,segment:u,rotation:h}=this.findSegmentToFitChar(t,s,d,v,i,m,a,e,n);m=o,u.p0&&u.p1&&// const width = this.getLineLength(
// 	segment.p0.x,
// 	segment.p0.y,
// 	segment.p1.x,
// 	segment.p1.y
// );
// Note: Since glyphs are rendered one at a time, any kerning pair data built into the font will not be used.
// Can foresee having a rough pair table built in that the developer can override as needed.
// Or use "dx" attribute of the <text> node as a naive replacement
// const kern = 0;
// placeholder for future implementation
// const midpoint = this.getPointOnLine(
// 	kern + width / 2.0,
// 	segment.p0.x, segment.p0.y, segment.p1.x, segment.p1.y
// );
this.glyphInfo.push({// transposeX: midpoint.x,
// transposeY: midpoint.y,
text:r[n],p0:u.p0,p1:u.p1,rotation:h})})}}parsePathData(t){if(this.pathLength=-1,!t)return[];var e=[],{pathParser:r}=t;for(r.reset();!r.isEnd();){var{current:i}=r,n=i?i.x:0,a=i?i.y:0,s=r.next(),o=s.type,u=[];switch(s.type){case tc.MOVE_TO:this.pathM(r,u);break;case tc.LINE_TO:o=this.pathL(r,u);break;case tc.HORIZ_LINE_TO:o=this.pathH(r,u);break;case tc.VERT_LINE_TO:o=this.pathV(r,u);break;case tc.CURVE_TO:this.pathC(r,u);break;case tc.SMOOTH_CURVE_TO:o=this.pathS(r,u);break;case tc.QUAD_TO:this.pathQ(r,u);break;case tc.SMOOTH_QUAD_TO:o=this.pathT(r,u);break;case tc.ARC:u=this.pathA(r);break;case tc.CLOSE_PATH:tf.pathZ(r)}s.type!==tc.CLOSE_PATH?e.push({type:o,points:u,start:{x:n,y:a},pathLength:this.calcLength(n,a,o,u)}):e.push({type:tc.CLOSE_PATH,points:[],pathLength:0})}return e}pathM(t,e){var{x:r,y:i}=tf.pathM(t).point;e.push(r,i)}pathL(t,e){var{x:r,y:i}=tf.pathL(t).point;return e.push(r,i),tc.LINE_TO}pathH(t,e){var{x:r,y:i}=tf.pathH(t).point;return e.push(r,i),tc.LINE_TO}pathV(t,e){var{x:r,y:i}=tf.pathV(t).point;return e.push(r,i),tc.LINE_TO}pathC(t,e){var{point:r,controlPoint:i,currentPoint:n}=tf.pathC(t);e.push(r.x,r.y,i.x,i.y,n.x,n.y)}pathS(t,e){var{point:r,controlPoint:i,currentPoint:n}=tf.pathS(t);return e.push(r.x,r.y,i.x,i.y,n.x,n.y),tc.CURVE_TO}pathQ(t,e){var{controlPoint:r,currentPoint:i}=tf.pathQ(t);e.push(r.x,r.y,i.x,i.y)}pathT(t,e){var{controlPoint:r,currentPoint:i}=tf.pathT(t);return e.push(r.x,r.y,i.x,i.y),tc.QUAD_TO}pathA(t){var{rX:e,rY:r,sweepFlag:i,xAxisRotation:n,centp:a,a1:s,ad:o}=tf.pathA(t);return 0===i&&o>0&&(o-=2*Math.PI),1===i&&o<0&&(o+=2*Math.PI),[a.x,a.y,e,r,s,o,n,i]}calcLength(t,e,r,i){var n=0,a=null,s=null,o=0;switch(r){case tc.LINE_TO:return this.getLineLength(t,e,i[0],i[1]);case tc.CURVE_TO:for(o=.01,// Approximates by breaking curve into 100 line segments
n=0,a=this.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]);o<=1;o+=.01)s=this.getPointOnCubicBezier(o,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),n+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return n;case tc.QUAD_TO:for(o=.01,// Approximates by breaking curve into 100 line segments
n=0,a=this.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]);o<=1;o+=.01)s=this.getPointOnQuadraticBezier(o,t,e,i[0],i[1],i[2],i[3]),n+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return n;case tc.ARC:// Approximates by breaking curve into line segments
n=0;var u=i[4],h=i[5],c=i[4]+h,l=Math.PI/180;// 4 = theta
if(Math.abs(u-c)<l&&(l=Math.abs(u-c)),// Note: for purpose of calculating arc length, not going to worry about rotating X-axis by angle psi
a=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),h<0)for(o=u-l;o>c;o-=l)s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],o,0),n+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(o=u+l;o<c;o+=l)s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],o,0),n+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),n+=this.getLineLength(a.x,a.y,s.x,s.y)}return 0}getPointOnLine(t,e,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,o=(n-r)/(i-e+M),u=Math.sqrt(t*t/(1+o*o));i<e&&(u*=-1);var h=o*u,c=null;if(i===e)c={x:a,y:s+h};else if((s-r)/(a-e+M)===o)c={x:a+u,y:s+h};else{var l=0,f=0,p=this.getLineLength(e,r,i,n);if(p<M)return null;var g=(a-e)*(i-e)+(s-r)*(n-r);g/=p*p,l=e+g*(i-e),f=r+g*(n-r);var d=this.getLineLength(a,s,l,f),v=Math.sqrt(t*t-d*d);u=Math.sqrt(v*v/(1+o*o)),i<e&&(u*=-1),h=o*u,c={x:l+u,y:f+h}}return c}getPointOnPath(t){var e=this.getPathLength(),r=0,i=null;if(t<-.00005||t-5e-5>e)return null;var{dataArray:n}=this;for(var a of n){if(a&&(a.pathLength<5e-5||r+a.pathLength+5e-5<t)){r+=a.pathLength;continue}var s=t-r,o=0;switch(a.type){case tc.LINE_TO:i=this.getPointOnLine(s,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case tc.ARC:var u=a.points[4],h=a.points[5],c=a.points[4]+h;// 4 = theta
if(o=u+s/a.pathLength*h,h<0&&o<c||h>=0&&o>c)break;i=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],o,a.points[6]);break;case tc.CURVE_TO:(o=s/a.pathLength)>1&&(o=1),i=this.getPointOnCubicBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case tc.QUAD_TO:(o=s/a.pathLength)>1&&(o=1),i=this.getPointOnQuadraticBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}if(i)return i;break}return null}getLineLength(t,e,r,i){return Math.sqrt((r-t)*(r-t)+(i-e)*(i-e))}getPathLength(){return -1===this.pathLength&&(this.pathLength=this.dataArray.reduce((t,e)=>e.pathLength>0?t+e.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,e,r,i,n,a,s,o,u){return{x:o*_(t)+a*I(t)+i*D(t)+e*j(t),y:u*_(t)+s*I(t)+n*D(t)+r*j(t)}}getPointOnQuadraticBezier(t,e,r,i,n,a,s){return{x:a*(t*t)+i*z(t)+e*B(t),y:s*(t*t)+n*z(t)+r*B(t)}}getPointOnEllipticalArc(t,e,r,i,n,a){var s=Math.cos(a),o=Math.sin(a),u={x:r*Math.cos(n),y:i*Math.sin(n)};return{x:t+(u.x*s-u.y*o),y:e+(u.x*o+u.y*s)}}buildEquidistantCache(t,e){var r=this.getPathLength(),i=e||.25,n=t||r/100;if(!this.equidistantCache||this.equidistantCache.step!==n||this.equidistantCache.precision!==i){// Prepare cache
this.equidistantCache={step:n,precision:i,points:[]};// Calculate points
for(var a=0,s=0;s<=r;s+=i){var o=this.getPointOnPath(s),u=this.getPointOnPath(s+i);o&&u&&(a+=this.getLineLength(o.x,o.y,u.x,u.y))>=n&&(this.equidistantCache.points.push({x:o.x,y:o.y,distance:s}),a-=n)}}}getEquidistantPointOnPath(t,e,r){if(this.buildEquidistantCache(e,r),t<0||t-this.getPathLength()>5e-5)return null;var i=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var tH=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class tX extends tl{constructor(t,e,r){super(t,e,r),this.type="image",this.loaded=!1;var i=this.getHrefAttribute().getString();if(!i)return;var n=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);t.images.push(this),n?this.loadSvg(i):this.loadImage(i),this.isSvg=n}loadImage(e){var r=this;return /*@__PURE__*/t(a)(function*(){try{var t=yield r.document.createImage(e);r.image=t}catch(t){console.error('Error while loading image "'.concat(e,'":'),t)}r.loaded=!0})()}loadSvg(e){var r=this;return /*@__PURE__*/t(a)(function*(){var t=tH.exec(e);if(t){var i=t[5];"base64"===t[4]?r.image=atob(i):r.image=decodeURIComponent(i)}else try{var n=yield r.document.fetch(e),a=yield n.text();r.image=a}catch(t){console.error('Error while loading image "'.concat(e,'":'),t)}r.loaded=!0})()}renderChildren(t){var{document:e,image:r,loaded:i}=this,n=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(i&&r&&s&&o){if(t.save(),t.translate(n,a),this.isSvg){var u=e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:s,scaleHeight:o});u.document.documentElement.parent=this,u.render()}else{var h=this.image;e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s,desiredWidth:h.width,height:o,desiredHeight:h.height}),this.loaded&&(void 0===h.complete||h.complete)&&t.drawImage(h,0,0)}t.restore()}}getBoundingBox(){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y");return new th(t,e,t+this.getStyle("width").getPixels("x"),e+this.getStyle("height").getPixels("y"))}}class tY extends tl{constructor(){super(...arguments),this.type="symbol"}render(t){}}class tq{constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}load(e,r){var i=this;return /*@__PURE__*/t(a)(function*(){try{var{document:t}=i,n=(yield t.canvg.parser.load(r)).getElementsByTagName("font");Array.from(n).forEach(r=>{var i=t.createElement(r);t.definitions[e]=i})}catch(t){console.error('Error while loading font "'.concat(r,'":'),t)}i.loaded=!0})()}}class tQ extends ta{constructor(t,e,r){super(t,e,r),this.type="style",p(Array.from(e.childNodes)// NEED TEST
.map(t=>t.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"")// remove comments
.replace(/@import.*;/g,"")// remove imports
).split("}").forEach(e=>{var r=e.trim();if(r){var i=r.split("{"),n=i[0].split(","),a=i[1].split(";");n.forEach(e=>{var r=e.trim();if(r){var i=t.styles[r]||{};if(a.forEach(e=>{var r=e.indexOf(":"),n=e.substr(0,r).trim(),a=e.substr(r+1,e.length-r).trim();n&&a&&(i[n]=new F(t,n,a))}),t.styles[r]=i,t.stylesSpecificity[r]=N(r),"@font-face"===r){//  && !nodeEnv
var n=i["font-family"].getString().replace(/"|'/g,"");i.src.getString().split(",").forEach(e=>{if(e.indexOf('format("svg")')>0){var r=x(e);r&&new tq(t).load(n,r)}})}}})}})}}tQ.parseExternalUrl=x;class tW extends tl{constructor(){super(...arguments),this.type="use"}setContext(t){super.setContext(t);var e=this.getAttribute("x"),r=this.getAttribute("y");e.hasValue()&&t.translate(e.getPixels("x"),0),r.hasValue()&&t.translate(0,r.getPixels("y"))}path(t){var{element:e}=this;e&&e.path(t)}renderChildren(t){var{document:e,element:r}=this;if(r){var i=r;if("symbol"===r.type&&(// render me using a temporary svg element in symbol cases (http://www.w3.org/TR/SVG/struct.html#UseElement)
(i=new ty(e,null)).attributes.viewBox=new F(e,"viewBox",r.getAttribute("viewBox").getString()),i.attributes.preserveAspectRatio=new F(e,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),i.attributes.overflow=new F(e,"overflow",r.getAttribute("overflow").getString()),i.children=r.children,r.styles.opacity=new F(e,"opacity",this.calculateOpacity())),"svg"===i.type){var n=this.getStyle("width",!1,!0),a=this.getStyle("height",!1,!0);n.hasValue()&&(i.attributes.width=new F(e,"width",n.getString())),a.hasValue()&&(i.attributes.height=new F(e,"height",a.getString()))}var s=i.parent;i.parent=this,i.render(t),i.parent=s}}getBoundingBox(t){var{element:e}=this;return e?e.getBoundingBox(t):null}elementTransform(){var{document:t,element:e}=this;return tn.fromElement(t,e)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function tG(t,e,r,i){return e+Math.cos(t)*r+Math.sin(t)*i}class tZ extends ta{constructor(t,e,r){super(t,e,r),this.type="feColorMatrix";var i=v(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){// http://www.w3.org/TR/SVG/filters.html#feColorMatrixElement
case"saturate":var n=i[0];/* eslint-disable array-element-newline */i=[.213+.787*n,.715-.715*n,.072-.072*n,0,0,.213-.213*n,.715+.285*n,.072-.072*n,0,0,.213-.213*n,.715-.715*n,.072+.928*n,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var a=i[0]*Math.PI/180;/* eslint-disable array-element-newline */i=[tG(a,.213,.787,-.213),tG(a,.715,-.715,-.715),tG(a,.072,-.072,.928),0,0,tG(a,.213,-.213,.143),tG(a,.715,.285,.14),tG(a,.072,-.072,-.283),0,0,tG(a,.213,-.213,-.787),tG(a,.715,-.715,.715),tG(a,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":/* eslint-disable array-element-newline */i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=i,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(t,e,r,i,n){for(var{includeOpacity:a,matrix:s}=this,o=t.getImageData(0,0,i,n),u=0;u<n;u++)for(var h=0;h<i;h++){var c,l,f,p,g,d,v,y,m,x,b,S,T,w,A,E,P,O,C,N,M=o.data[u*i*4+4*h+0],R=o.data[u*i*4+4*h+1],k=o.data[u*i*4+4*h+2],V=o.data[u*i*4+4*h+3],_=s[0]*M+s[1]*R+s[2]*k+s[3]*V+1*s[4],I=s[5]*M+s[6]*R+s[7]*k+s[8]*V+1*s[9],D=s[10]*M+s[11]*R+s[12]*k+s[13]*V+1*s[14],j=s[15]*M+s[16]*R+s[17]*k+s[18]*V+1*s[19];a&&(_=0,I=0,D=0,j*=V/255),g=o.data,d=h,v=u,y=_,g[v*i*4+4*d+0]=y,m=o.data,x=h,b=u,S=I,m[b*i*4+4*x+1]=S,T=o.data,w=h,A=u,E=D,T[A*i*4+4*w+2]=E,P=o.data,O=h,C=u,N=j,P[C*i*4+4*O+3]=N}t.clearRect(0,0,i,n),t.putImageData(o,0,0)}}class tK extends ta{constructor(){super(...arguments),this.type="mask"}apply(t,e){var{document:r}=this,i=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");// render as temp svg
if(!a&&!s){var o=new th;this.children.forEach(e=>{o.addBoundingBox(e.getBoundingBox(t))}),i=Math.floor(o.x1),n=Math.floor(o.y1),a=Math.floor(o.width),s=Math.floor(o.height)}var u=this.removeStyles(e,tK.ignoreStyles),h=r.createCanvas(i+a,n+s),c=h.getContext("2d");r.screen.setDefaults(c),this.renderChildren(c),// TODO: refactor out apply from feColorMatrix
new tZ(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(c,0,0,i+a,n+s);var l=r.createCanvas(i+a,n+s),f=l.getContext("2d");r.screen.setDefaults(f),e.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=c.createPattern(h,"no-repeat"),f.fillRect(0,0,i+a,n+s),t.fillStyle=f.createPattern(l,"no-repeat"),t.fillRect(0,0,i+a,n+s),this.restoreStyles(e,u)}render(t){}}tK.ignoreStyles=["mask","transform","clip-path"];var t$=()=>{};class tJ extends ta{constructor(){super(...arguments),this.type="clipPath"}apply(t){var{document:e}=this,r=Reflect.getPrototypeOf(t),{beginPath:i,closePath:n}=t;r&&(r.beginPath=t$,r.closePath=t$),Reflect.apply(i,t,[]),this.children.forEach(i=>{if(void 0!==i.path){var a=void 0!==i.elementTransform?i.elementTransform():null;// handle <use />
a||(a=tn.fromElement(e,i)),a&&a.apply(t),i.path(t),r&&(r.closePath=n),a&&a.unapply(t)}}),Reflect.apply(n,t,[]),t.clip(),r&&(r.beginPath=i,r.closePath=n)}render(t){}}class t0 extends ta{constructor(){super(...arguments),this.type="filter"}apply(t,e){// render as temp svg
var{document:r,children:i}=this,n=e.getBoundingBox(t);if(n){var a=0,s=0;i.forEach(t=>{var e=t.extraFilterDistance||0;a=Math.max(a,e),s=Math.max(s,e)});var o=Math.floor(n.width),u=Math.floor(n.height),h=o+2*a,c=u+2*s;if(!(h<1)&&!(c<1)){var l=Math.floor(n.x),f=Math.floor(n.y),p=this.removeStyles(e,t0.ignoreStyles),g=r.createCanvas(h,c),d=g.getContext("2d");r.screen.setDefaults(d),d.translate(-l+a,-f+s),e.render(d),i.forEach(t=>{"function"==typeof t.apply&&t.apply(d,0,0,h,c)}),t.drawImage(g,0,0,h,c,l-a,f-s,h,c),this.restoreStyles(e,p)}}}render(t){}}t0.ignoreStyles=["filter","transform","clip-path"];class t1 extends ta{constructor(t,e,r){super(t,e,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(t,e,r,i,n){}}class t2 extends ta{constructor(){super(...arguments),this.type="feMorphology"}apply(t,e,r,i,n){}}class t3 extends ta{constructor(){super(...arguments),this.type="feComposite"}apply(t,e,r,i,n){}}class t4 extends ta{constructor(t,e,r){super(t,e,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(t,e,r,i,n){var{document:a,blurRadius:s}=this,o=a.window?a.window.document.body:null,u=t.canvas;u.id=a.getUniqueId(),o&&(u.style.display="none",o.appendChild(u)),(0,c.canvasRGBA)(u,e,r,i,n,s),o&&o.removeChild(u)}}class t5 extends ta{constructor(){super(...arguments),this.type="title"}}class t9 extends ta{constructor(){super(...arguments),this.type="desc"}}function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function t6(){return(t6=/*@__PURE__*/t(a)(function*(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement("img");return e&&(r.crossOrigin="Anonymous"),new Promise((e,i)=>{r.onload=()=>{e(r)},r.onerror=(t,e,r,n,a)=>{i(a)},r.src=t})})).apply(this,arguments)}class t7{constructor(t){var{rootEmSize:e=12,emSize:r=12,createCanvas:i=t7.createCanvas,createImage:n=t7.createImage,anonymousCrossOrigin:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=e,this.emSize=r,this.createCanvas=i,this.createImage=this.bindCreateImage(n,a),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(t,e){return"boolean"==typeof e?(r,i)=>t(r,"boolean"==typeof i?i:e):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:t}=this;return t[t.length-1]}set emSize(t){var{emSizeStack:e}=this;e.push(t)}popEmSize(){var{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){var e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e}createElement(t){var e=t.nodeName.replace(/^[^:]+:/,""),r=t7.elementTypes[e];return void 0!==r?new r(this,t):new ts(this,t)}createTextNode(t){return new tv(this,t)}setViewBox(e){this.screen.setViewBox(function(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t8(Object(i),!0).forEach(function(r){/*@__PURE__*/t(s)(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t8(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({document:this},e))}}function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function ee(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?et(Object(i),!0).forEach(function(r){/*@__PURE__*/t(s)(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):et(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}t7.createCanvas=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},t7.createImage=function(t){return t6.apply(this,arguments)},t7.elementTypes={svg:ty,rect:tm,circle:tx,ellipse:tb,line:tS,polyline:tT,polygon:tw,path:tf,pattern:tA,marker:tE,defs:tP,linearGradient:tN,radialGradient:tM,stop:tR,animate:tk,animateColor:tV,animateTransform:t_,font:tI,"font-face":tD,"missing-glyph":tj,glyph:tp,text:tg,tspan:td,tref:tL,a:tz,textPath:tU,image:tX,g:tO,symbol:tY,style:tQ,use:tW,mask:tK,clipPath:tJ,filter:t0,feDropShadow:t1,feMorphology:t2,feComposite:t3,feColorMatrix:tZ,feGaussianBlur:t4,title:t5,desc:t9};/**
 * SVG renderer on canvas.
 */class er{/**
   * Main constructor.
   * @param ctx - Rendering context.
   * @param svg - SVG Document.
   * @param options - Rendering options.
   */constructor(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new Z(r),this.screen=new Q(t,r),this.options=r;var i=new t7(this,r),n=i.createDocumentElement(e);this.document=i,this.documentElement=n}/**
   * Create Canvg instance from SVG source string or URL.
   * @param ctx - Rendering context.
   * @param svg - SVG source string or URL.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */static from(e,r){var i=arguments;return /*@__PURE__*/t(a)(function*(){var t=i.length>2&&void 0!==i[2]?i[2]:{},n=new Z(t);return new er(e,(yield n.parse(r)),t)})()}/**
   * Create Canvg instance from SVG source string.
   * @param ctx - Rendering context.
   * @param svg - SVG source string.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */static fromString(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new er(t,new Z(r).parseFromString(e),r)}/**
   * Create new Canvg instance with inherited options.
   * @param ctx - Rendering context.
   * @param svg - SVG source string or URL.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */fork(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return er.from(t,e,ee(ee({},this.options),r))}/**
   * Create new Canvg instance with inherited options.
   * @param ctx - Rendering context.
   * @param svg - SVG source string.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */forkString(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return er.fromString(t,e,ee(ee({},this.options),r))}/**
   * Document is ready promise.
   * @returns Ready promise.
   */ready(){return this.screen.ready()}/**
   * Document is ready value.
   * @returns Is ready or not.
   */isReady(){return this.screen.isReady()}/**
   * Render only first frame, ignoring animations and mouse.
   * @param options - Rendering options.
   */render(){var e=arguments,r=this;return /*@__PURE__*/t(a)(function*(){var t=e.length>0&&void 0!==e[0]?e[0]:{};r.start(ee({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},t)),yield r.ready(),r.stop()})()}/**
   * Start rendering.
   * @param options - Render options.
   */start(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:e,screen:r,options:i}=this;r.start(e,ee(ee({enableRedraw:!0},i),t))}/**
   * Stop rendering.
   */stop(){this.screen.stop()}/**
   * Resize SVG to fit in given size.
   * @param width
   * @param height
   * @param preserveAspectRatio
   */resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(t,e,r)}}}),n("dHWoo",function(t,e){i("l8TJF"),i("8HyI1"),i("hUYJN"),i("jmGte"),i("iHuZg"),i("4ctmz")}),n("l8TJF",function(t,e){var r,n,a,s,o=i("2EYzm"),u=i("ac5oF"),h=i("iaxFj"),c=i("lg98N"),l=i("a1k1T"),f=i("g1PTr"),p=i("3ikjo"),g=i("hzEP5"),d=i("5Pqtx"),v=i("igMON"),y=i("vPv51"),m=i("7YENv"),x=i("dF1Zk"),b=i("3BqAD"),S=i("hJCHs").set,T=i("ktQ5B"),w=i("2E85B"),A=i("fDodz"),E=i("cwZHh"),P=i("vYaSf"),O=i("ckuCv"),C=i("9qsBM"),N=i("hPVzZ"),M="Promise",R=C.CONSTRUCTOR,k=C.REJECTION_EVENT,V=C.SUBCLASSING,_=P.getterFor(M),I=P.set,D=O&&O.prototype,j=O,L=D,z=c.TypeError,B=c.document,F=c.process,U=N.f,H=U,X=!!(B&&B.createEvent&&c.dispatchEvent),Y="unhandledrejection",q=function(t){var e;return!!(m(t)&&y(e=t.then))&&e},Q=function(t,e){var r,i,n,a=e.value,s=1===e.state,o=s?t.ok:t.fail,u=t.resolve,h=t.reject,c=t.domain;try{o?(s||(2===e.rejection&&$(e),e.rejection=1),!0===o?r=a:(c&&c.enter(),r=o(a),c&&(c.exit(),n=!0)),r===t.promise?h(new z("Promise-chain cycle")):(i=q(r))?l(i,r,u,h):u(r)):h(a)}catch(t){c&&!n&&c.exit(),h(t)}},W=function(t,e){t.notified||(t.notified=!0,T(function(){for(var r,i=t.reactions;r=i.get();)Q(r,t);t.notified=!1,e&&!t.rejection&&Z(t)}))},G=function(t,e,r){var i,n;X?((i=B.createEvent("Event")).promise=e,i.reason=r,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:r},!k&&(n=c["on"+t])?n(i):t===Y&&w("Unhandled promise rejection",r)},Z=function(t){l(S,c,function(){var e,r=t.facade,i=t.value;if(K(t)&&(e=A(function(){h?F.emit("unhandledRejection",i,r):G(Y,r,i)}),// Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
t.rejection=h||K(t)?2:1,e.error))throw e.value})},K=function(t){return 1!==t.rejection&&!t.parent},$=function(t){l(S,c,function(){var e=t.facade;h?F.emit("rejectionHandled",e):G("rejectionhandled",e,t.value)})},J=function(t,e,r){return function(i){t(e,i,r)}},tt=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,W(t,!0))},te=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new z("Promise can't be resolved itself");var i=q(e);i?T(function(){var r={done:!1};try{l(i,e,J(te,r,t),J(tt,r,t))}catch(e){tt(r,e,t)}}):(t.value=e,t.state=1,W(t,!1))}catch(e){tt({done:!1},e,t)}}};// constructor polyfill
if(R&&(L=// 25.4.3.1 Promise(executor)
(j=function(t){x(this,L),v(t),l(r,this);var e=_(this);try{t(J(te,e),J(tt,e))}catch(t){tt(e,t)}}).prototype,// `Promise.prototype.then` method
// https://tc39.es/ecma262/#sec-promise.prototype.then
// eslint-disable-next-line no-unused-vars -- required for `.length`
(r=function(t){I(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:void 0})}).prototype=f(L,"then",function(t,e){var r=_(this),i=U(b(this,j));return r.parent=!0,i.ok=!y(t)||t,i.fail=y(e)&&e,i.domain=h?F.domain:void 0,0===r.state?r.reactions.add(i):T(function(){Q(i,r)}),i.promise}),n=function(){var t=new r,e=_(t);this.promise=t,this.resolve=J(te,e),this.reject=J(tt,e)},N.f=U=function(t){return t===j||t===a?new n(t):H(t)},!u&&y(O)&&D!==Object.prototype)){s=D.then,V||f(D,"then",function(t,e){var r=this;return new j(function(t,e){l(s,r,t,e)}).then(t,e);// https://github.com/zloirock/core-js/issues/640
},{unsafe:!0});// make `.constructor === Promise` work for native promise-based APIs
try{delete D.constructor}catch(t){}p&&p(D,L)}o({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:j}),g(j,M,!1,!0),d(M)}),n("2EYzm",function(t,e){var r=i("lg98N"),n=i("jNkEB").f,a=i("6EQSf"),s=i("g1PTr"),o=i("9toez"),u=i("iS7Ak"),h=i("4UaSz");/*
  options.target         - name of the target object
  options.global         - target is the global object
  options.stat           - export as static methods of target
  options.proto          - export as prototype methods of target
  options.real           - real prototype method for the `pure` version
  options.forced         - export even if the native feature is available
  options.bind           - bind methods to the target, required for the `pure` version
  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe         - use the simple assignment of property instead of delete + defineProperty
  options.sham           - add a flag to not completely full polyfills
  options.enumerable     - export as enumerable property
  options.dontCallGetSet - prevent calling a getter on target
  options.name           - the .name of the function if it does not match the key
*/t.exports=function(t,e){var i,c,l,f,p,g=t.target,d=t.global,v=t.stat;if(i=d?r:v?r[g]||o(g,{}):(r[g]||{}).prototype)for(c in e){// contained in target
if(f=e[c],l=t.dontCallGetSet?(p=n(i,c))&&p.value:i[c],!h(d?c:g+(v?".":"#")+c,t.forced)&&void 0!==l){if(typeof f==typeof l)continue;u(f,l)}(t.sham||l&&l.sham)&&a(f,"sham",!0),s(i,c,f,t)}}}),n("lg98N",function(t,e){var i=function(t){return t&&t.Math===Math&&t};// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||// eslint-disable-next-line no-restricted-globals -- safe
i("object"==typeof self&&self)||i("object"==typeof r&&r)||i("object"==typeof t.exports&&t.exports)||// eslint-disable-next-line no-new-func -- fallback
function(){return this}()||Function("return this")()}),n("jNkEB",function(t,r){e(t.exports,"f",function(){return n},function(t){return n=t});var n,a=i("amu33"),s=i("a1k1T"),o=i("8kxXv"),u=i("8Azf4"),h=i("464I6"),c=i("hDdci"),l=i("cqeph"),f=i("fvdE4"),p=Object.getOwnPropertyDescriptor;n=a?p:function(t,e){if(t=h(t),e=c(e),f)try{return p(t,e)}catch(t){}if(l(t,e))return u(!s(o.f,t,e),t[e])}}),n("amu33",function(t,e){var r=i("vrvDR");// Detect IE8's incomplete defineProperty implementation
t.exports=!r(function(){// eslint-disable-next-line es/no-object-defineproperty -- required for testing
return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}),n("vrvDR",function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}}),n("a1k1T",function(t,e){var r=i("hq8ps"),n=Function.prototype.call;t.exports=r?n.bind(n):function(){return n.apply(n,arguments)}}),n("hq8ps",function(t,e){var r=i("vrvDR");t.exports=!r(function(){// eslint-disable-next-line es/no-function-prototype-bind -- safe
var t=(function(){}).bind();// eslint-disable-next-line no-prototype-builtins -- safe
return"function"!=typeof t||t.hasOwnProperty("prototype")})}),n("8kxXv",function(t,r){e(t.exports,"f",function(){return i},function(t){return i=t});var i,n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor;i=a&&!n.call({1:2},1)?function(t){var e=a(this,t);return!!e&&e.enumerable}:n}),n("8Azf4",function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}}),n("464I6",function(t,e){var r=i("4F4p3"),n=i("5Xuh4");t.exports=function(t){return r(n(t))}}),n("4F4p3",function(t,e){var r=i("jsANB"),n=i("vrvDR"),a=i("2Hb5F"),s=Object,o=r("".split);// fallback for non-array-like ES3 and non-enumerable old V8 strings
t.exports=n(function(){// throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
// eslint-disable-next-line no-prototype-builtins -- safe
return!s("z").propertyIsEnumerable(0)})?function(t){return"String"===a(t)?o(t,""):s(t)}:s}),n("jsANB",function(t,e){var r=i("hq8ps"),n=Function.prototype,a=n.call,s=r&&n.bind.bind(a,a);t.exports=r?s:function(t){return function(){return a.apply(t,arguments)}}}),n("2Hb5F",function(t,e){var r=i("jsANB"),n=r({}.toString),a=r("".slice);t.exports=function(t){return a(n(t),8,-1)}}),n("5Xuh4",function(t,e){var r=i("7jen6"),n=TypeError;// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
t.exports=function(t){if(r(t))throw new n("Can't call method on "+t);return t}}),n("7jen6",function(t,e){// we can't use just `it == null` since of `document.all` special case
// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
t.exports=function(t){return null==t}}),n("hDdci",function(t,e){var r=i("hhWee"),n=i("FDi4q");// `ToPropertyKey` abstract operation
// https://tc39.es/ecma262/#sec-topropertykey
t.exports=function(t){var e=r(t,"string");return n(e)?e:e+""}}),n("hhWee",function(t,e){var r=i("a1k1T"),n=i("7YENv"),a=i("FDi4q"),s=i("hRLiy"),o=i("is7wn"),u=i("90RsT"),h=TypeError,c=u("toPrimitive");// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
t.exports=function(t,e){if(!n(t)||a(t))return t;var i,u=s(t,c);if(u){if(void 0===e&&(e="default"),!n(i=r(u,t,e))||a(i))return i;throw new h("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}}),n("7YENv",function(t,e){var r=i("vPv51"),n=i("jWzup"),a=n.all;t.exports=n.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===a}:function(t){return"object"==typeof t?null!==t:r(t)}}),n("vPv51",function(t,e){var r=i("jWzup"),n=r.all;// `IsCallable` abstract operation
// https://tc39.es/ecma262/#sec-iscallable
t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===n}:function(t){return"function"==typeof t}}),n("jWzup",function(t,e){var r="object"==typeof document&&document.all;t.exports={all:r,IS_HTMLDDA:void 0===r&&void 0!==r}}),n("FDi4q",function(t,e){var r=i("91qrK"),n=i("vPv51"),a=i("9B40L"),s=i("dvcM5"),o=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return n(e)&&a(e.prototype,o(t))}}),n("91qrK",function(t,e){var r=i("lg98N"),n=i("vPv51");t.exports=function(t,e){var i;return arguments.length<2?n(i=r[t])?i:void 0:r[t]&&r[t][e]}}),n("9B40L",function(t,e){var r=i("jsANB");t.exports=r({}.isPrototypeOf)}),n("dvcM5",function(t,e){var r=i("1PbHI");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}),n("1PbHI",function(t,e){var r=i("a1D6i"),n=i("vrvDR"),a=i("lg98N").String;// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
t.exports=!!Object.getOwnPropertySymbols&&!n(function(){var t=Symbol("symbol detection");// Chrome 38 Symbol has incorrect toString conversion
// `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
// nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,
// of course, fail.
return!a(t)||!(Object(t) instanceof Symbol)||// Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
!Symbol.sham&&r&&r<41})}),n("a1D6i",function(t,e){var r,n,a=i("lg98N"),s=i("jsbyK"),o=a.process,u=a.Deno,h=o&&o.versions||u&&u.version,c=h&&h.v8;c&&// in old Chrome, versions of V8 isn't V8 = Chrome / 10
// but their correct versions are not interesting for us
(n=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(n=+r[1]),t.exports=n}),n("jsbyK",function(t,e){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""}),n("hRLiy",function(t,e){var r=i("igMON"),n=i("7jen6");// `GetMethod` abstract operation
// https://tc39.es/ecma262/#sec-getmethod
t.exports=function(t,e){var i=t[e];return n(i)?void 0:r(i)}}),n("igMON",function(t,e){var r=i("vPv51"),n=i("9P9tT"),a=TypeError;// `Assert: IsCallable(argument) is true`
t.exports=function(t){if(r(t))return t;throw new a(n(t)+" is not a function")}}),n("9P9tT",function(t,e){var r=String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}}),n("is7wn",function(t,e){var r=i("a1k1T"),n=i("vPv51"),a=i("7YENv"),s=TypeError;// `OrdinaryToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-ordinarytoprimitive
t.exports=function(t,e){var i,o;if("string"===e&&n(i=t.toString)&&!a(o=r(i,t))||n(i=t.valueOf)&&!a(o=r(i,t))||"string"!==e&&n(i=t.toString)&&!a(o=r(i,t)))return o;throw new s("Can't convert object to primitive value")}}),n("90RsT",function(t,e){var r=i("lg98N"),n=i("1QGmH"),a=i("cqeph"),s=i("9fWUN"),o=i("1PbHI"),u=i("dvcM5"),h=r.Symbol,c=n("wks"),l=u?h.for||h:h&&h.withoutSetter||s;t.exports=function(t){return a(c,t)||(c[t]=o&&a(h,t)?h[t]:l("Symbol."+t)),c[t]}}),n("1QGmH",function(t,e){var r=i("ac5oF"),n=i("3iGTB");(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.3",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})}),n("ac5oF",function(t,e){t.exports=!1}),n("3iGTB",function(t,e){var r=i("lg98N"),n=i("9toez"),a="__core-js_shared__",s=r[a]||n(a,{});t.exports=s}),n("9toez",function(t,e){var r=i("lg98N"),n=Object.defineProperty;t.exports=function(t,e){try{n(r,t,{value:e,configurable:!0,writable:!0})}catch(i){r[t]=e}return e}}),n("cqeph",function(t,e){var r=i("jsANB"),n=i("5I5zp"),a=r({}.hasOwnProperty);// `HasOwnProperty` abstract operation
// https://tc39.es/ecma262/#sec-hasownproperty
// eslint-disable-next-line es/no-object-hasown -- safe
t.exports=Object.hasOwn||function(t,e){return a(n(t),e)}}),n("5I5zp",function(t,e){var r=i("5Xuh4"),n=Object;// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
t.exports=function(t){return n(r(t))}}),n("9fWUN",function(t,e){var r=i("jsANB"),n=0,a=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++n+a,36)}}),n("fvdE4",function(t,e){var r=i("amu33"),n=i("vrvDR"),a=i("hcnPV");// Thanks to IE8 for its funny defineProperty
t.exports=!r&&!n(function(){// eslint-disable-next-line es/no-object-defineproperty -- required for testing
return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})}),n("hcnPV",function(t,e){var r=i("lg98N"),n=i("7YENv"),a=r.document,s=n(a)&&n(a.createElement);t.exports=function(t){return s?a.createElement(t):{}}}),n("6EQSf",function(t,e){var r=i("amu33"),n=i("01ZZj"),a=i("8Azf4");t.exports=r?function(t,e,r){return n.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}}),n("01ZZj",function(t,r){e(t.exports,"f",function(){return n},function(t){return n=t});var n,a=i("amu33"),s=i("fvdE4"),o=i("6WDgM"),u=i("dl9gC"),h=i("hDdci"),c=TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,p="enumerable",g="configurable",d="writable";n=a?o?function(t,e,r){if(u(t),e=h(e),u(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var i=f(t,e);i&&i[d]&&(t[e]=r.value,r={configurable:g in r?r[g]:i[g],enumerable:p in r?r[p]:i[p],writable:!1})}return l(t,e,r)}:l:function(t,e,r){if(u(t),e=h(e),u(r),s)try{return l(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}}),n("6WDgM",function(t,e){var r=i("amu33"),n=i("vrvDR");// V8 ~ Chrome 36-
// https://bugs.chromium.org/p/v8/issues/detail?id=3334
t.exports=r&&n(function(){// eslint-disable-next-line es/no-object-defineproperty -- required for testing
return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}),n("dl9gC",function(t,e){var r=i("7YENv"),n=String,a=TypeError;// `Assert: Type(argument) is Object`
t.exports=function(t){if(r(t))return t;throw new a(n(t)+" is not an object")}}),n("g1PTr",function(t,e){var r=i("vPv51"),n=i("01ZZj"),a=i("B6oHb"),s=i("9toez");t.exports=function(t,e,i,o){o||(o={});var u=o.enumerable,h=void 0!==o.name?o.name:e;if(r(i)&&a(i,h,o),o.global)u?t[e]=i:s(e,i);else{try{o.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=i:n.f(t,e,{value:i,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}}),n("B6oHb",function(t,e){var r=i("jsANB"),n=i("vrvDR"),a=i("vPv51"),s=i("cqeph"),o=i("amu33"),u=i("5NzQB").CONFIGURABLE,h=i("k3TfO"),c=i("vYaSf"),l=c.enforce,f=c.get,p=String,g=Object.defineProperty,d=r("".slice),v=r("".replace),y=r([].join),m=o&&!n(function(){return 8!==g(function(){},"length",{value:8}).length}),x=String(String).split("String"),b=t.exports=function(t,e,r){"Symbol("===d(p(e),0,7)&&(e="["+v(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!s(t,"name")||u&&t.name!==e)&&(o?g(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&s(r,"arity")&&t.length!==r.arity&&g(t,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?o&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=l(t);return s(i,"source")||(i.source=y(x,"string"==typeof e?e:"")),t};// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
// eslint-disable-next-line no-extend-native -- required
Function.prototype.toString=b(function(){return a(this)&&f(this).source||h(this)},"toString")}),n("5NzQB",function(t,e){var r=i("amu33"),n=i("cqeph"),a=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,o=n(a,"name"),u=o&&(!r||r&&s(a,"name").configurable);t.exports={EXISTS:o,PROPER:o&&"something"===(function(){}).name,CONFIGURABLE:u}}),n("k3TfO",function(t,e){var r=i("jsANB"),n=i("vPv51"),a=i("3iGTB"),s=r(Function.toString);n(a.inspectSource)||(a.inspectSource=function(t){return s(t)}),t.exports=a.inspectSource}),n("vYaSf",function(t,e){var r,n,a,s=i("i7wmH"),o=i("lg98N"),u=i("7YENv"),h=i("6EQSf"),c=i("cqeph"),l=i("3iGTB"),f=i("4gwLc"),p=i("ep1m8"),g="Object already initialized",d=o.TypeError,v=o.WeakMap;if(s||l.state){var y=l.state||(l.state=new v);/* eslint-disable no-self-assign -- prototype methods protection */y.get=y.get,y.has=y.has,y.set=y.set,/* eslint-enable no-self-assign -- prototype methods protection */r=function(t,e){if(y.has(t))throw new d(g);return e.facade=t,y.set(t,e),e},n=function(t){return y.get(t)||{}},a=function(t){return y.has(t)}}else{var m=f("state");p[m]=!0,r=function(t,e){if(c(t,m))throw new d(g);return e.facade=t,h(t,m,e),e},n=function(t){return c(t,m)?t[m]:{}},a=function(t){return c(t,m)}}t.exports={set:r,get:n,has:a,enforce:function(t){return a(t)?n(t):r(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=n(e)).type!==t)throw new d("Incompatible receiver, "+t+" required");return r}}}}),n("i7wmH",function(t,e){var r=i("lg98N"),n=i("vPv51"),a=r.WeakMap;t.exports=n(a)&&/native code/.test(String(a))}),n("4gwLc",function(t,e){var r=i("1QGmH"),n=i("9fWUN"),a=r("keys");t.exports=function(t){return a[t]||(a[t]=n(t))}}),n("ep1m8",function(t,e){t.exports={}}),n("iS7Ak",function(t,e){var r=i("cqeph"),n=i("fleNE"),a=i("jNkEB"),s=i("01ZZj");t.exports=function(t,e,i){for(var o=n(e),u=s.f,h=a.f,c=0;c<o.length;c++){var l=o[c];r(t,l)||i&&r(i,l)||u(t,l,h(e,l))}}}),n("fleNE",function(t,e){var r=i("91qrK"),n=i("jsANB"),a=i("77Zn5"),s=i("a1kgg"),o=i("dl9gC"),u=n([].concat);// all object keys, includes non-enumerable and symbols
t.exports=r("Reflect","ownKeys")||function(t){var e=a.f(o(t)),r=s.f;return r?u(e,r(t)):e}}),n("77Zn5",function(t,r){e(t.exports,"f",function(){return n},function(t){return n=t});var n,a=i("ggzF6"),s=i("1M11X").concat("length","prototype");n=Object.getOwnPropertyNames||function(t){return a(t,s)}}),n("ggzF6",function(t,e){var r=i("jsANB"),n=i("cqeph"),a=i("464I6"),s=i("k7S90").indexOf,o=i("ep1m8"),u=r([].push);t.exports=function(t,e){var r,i=a(t),h=0,c=[];for(r in i)!n(o,r)&&n(i,r)&&u(c,r);// Don't enum bug & hidden keys
for(;e.length>h;)n(i,r=e[h++])&&(~s(c,r)||u(c,r));return c}}),n("k7S90",function(t,e){var r=i("464I6"),n=i("lFNbf"),a=i("75EWb"),s=function(t){return function(e,i,s){var o,u=r(e),h=a(u),c=n(s,h);// Array#includes uses SameValueZero equality algorithm
// eslint-disable-next-line no-self-compare -- NaN check
if(t&&i!=i){for(;h>c;)// eslint-disable-next-line no-self-compare -- NaN check
if((o=u[c++])!=o)return!0;// Array#indexOf ignores holes, Array#includes - not
}else for(;h>c;c++)if((t||c in u)&&u[c]===i)return t||c||0;return!t&&-1}};t.exports={// `Array.prototype.includes` method
// https://tc39.es/ecma262/#sec-array.prototype.includes
includes:s(!0),// `Array.prototype.indexOf` method
// https://tc39.es/ecma262/#sec-array.prototype.indexof
indexOf:s(!1)}}),n("lFNbf",function(t,e){var r=i("338pB"),n=Math.max,a=Math.min;// Helper for a popular repeating case of the spec:
// Let integer be ? ToInteger(index).
// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
t.exports=function(t,e){var i=r(t);return i<0?n(i+e,0):a(i,e)}}),n("338pB",function(t,e){var r=i("24xEb");// `ToIntegerOrInfinity` abstract operation
// https://tc39.es/ecma262/#sec-tointegerorinfinity
t.exports=function(t){var e=+t;// eslint-disable-next-line no-self-compare -- NaN check
return e!=e||0===e?0:r(e)}}),n("24xEb",function(t,e){var r=Math.ceil,i=Math.floor;// `Math.trunc` method
// https://tc39.es/ecma262/#sec-math.trunc
// eslint-disable-next-line es/no-math-trunc -- safe
t.exports=Math.trunc||function(t){var e=+t;return(e>0?i:r)(e)}}),n("75EWb",function(t,e){var r=i("3Z5Kc");// `LengthOfArrayLike` abstract operation
// https://tc39.es/ecma262/#sec-lengthofarraylike
t.exports=function(t){return r(t.length)}}),n("3Z5Kc",function(t,e){var r=i("338pB"),n=Math.min;// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
t.exports=function(t){return t>0?n(r(t),9007199254740991):0;// 2 ** 53 - 1 == 9007199254740991
}}),n("1M11X",function(t,e){// IE8- don't enum bug keys
t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),n("a1kgg",function(t,r){var i;e(t.exports,"f",function(){return i},function(t){return i=t}),i=Object.getOwnPropertySymbols}),n("4UaSz",function(t,e){var r=i("vrvDR"),n=i("vPv51"),a=/#|\.prototype\./,s=function(t,e){var i=u[o(t)];return i===c||i!==h&&(n(e)?r(e):!!e)},o=s.normalize=function(t){return String(t).replace(a,".").toLowerCase()},u=s.data={},h=s.NATIVE="N",c=s.POLYFILL="P";t.exports=s}),n("iaxFj",function(t,e){var r=i("lg98N"),n=i("2Hb5F");t.exports="process"===n(r.process)}),n("3ikjo",function(t,e){var r=i("8ulqk"),n=i("dl9gC"),a=i("ewtuy");// `Object.setPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.setprototypeof
// Works with __proto__ only. Old v8 can't work with null proto objects.
// eslint-disable-next-line es/no-object-setprototypeof -- safe
t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=r(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(r,i){return n(r),a(i),e?t(r,i):r.__proto__=i,r}}():void 0)}),n("8ulqk",function(t,e){var r=i("jsANB"),n=i("igMON");t.exports=function(t,e,i){try{// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
return r(n(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}}}),n("ewtuy",function(t,e){var r=i("vPv51"),n=String,a=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw new a("Can't set "+n(t)+" as a prototype")}}),n("hzEP5",function(t,e){var r=i("01ZZj").f,n=i("cqeph"),a=i("90RsT")("toStringTag");t.exports=function(t,e,i){t&&!i&&(t=t.prototype),t&&!n(t,a)&&r(t,a,{configurable:!0,value:e})}}),n("5Pqtx",function(t,e){var r=i("91qrK"),n=i("aNqiQ"),a=i("90RsT"),s=i("amu33"),o=a("species");t.exports=function(t){var e=r(t);s&&e&&!e[o]&&n(e,o,{configurable:!0,get:function(){return this}})}}),n("aNqiQ",function(t,e){var r=i("B6oHb"),n=i("01ZZj");t.exports=function(t,e,i){return i.get&&r(i.get,e,{getter:!0}),i.set&&r(i.set,e,{setter:!0}),n.f(t,e,i)}}),n("dF1Zk",function(t,e){var r=i("9B40L"),n=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new n("Incorrect invocation")}}),n("3BqAD",function(t,e){var r=i("dl9gC"),n=i("hhGXo"),a=i("7jen6"),s=i("90RsT")("species");// `SpeciesConstructor` abstract operation
// https://tc39.es/ecma262/#sec-speciesconstructor
t.exports=function(t,e){var i,o=r(t).constructor;return void 0===o||a(i=r(o)[s])?e:n(i)}}),n("hhGXo",function(t,e){var r=i("7avjg"),n=i("9P9tT"),a=TypeError;// `Assert: IsConstructor(argument) is true`
t.exports=function(t){if(r(t))return t;throw new a(n(t)+" is not a constructor")}}),n("7avjg",function(t,e){var r=i("jsANB"),n=i("vrvDR"),a=i("vPv51"),s=i("3t8lc"),o=i("91qrK"),u=i("k3TfO"),h=function(){},c=[],l=o("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),g=!f.test(h),d=function(t){if(!a(t))return!1;try{return l(h,c,t),!0}catch(t){return!1}},v=function(t){if(!a(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{// we can't check .prototype since constructors produced by .bind haven't it
// `Function#toString` throws on some built-it function in some legacy engines
// (for example, `DOMQuad` and similar in FF41-)
return g||!!p(f,u(t))}catch(t){return!0}};v.sham=!0,// `IsConstructor` abstract operation
// https://tc39.es/ecma262/#sec-isconstructor
t.exports=!l||n(function(){var t;return d(d.call)||!d(Object)||!d(function(){t=!0})||t})?v:d}),n("3t8lc",function(t,e){var r=i("ae9xj"),n=i("vPv51"),a=i("2Hb5F"),s=i("90RsT")("toStringTag"),o=Object,u="Arguments"===a(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(t){}};// getting tag from ES6+ `Object.prototype.toString`
t.exports=r?a:function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=h(e=o(t),s))?r:u?a(e):"Object"===(i=a(e))&&n(e.callee)?"Arguments":i}}),n("ae9xj",function(t,e){var r=i("90RsT")("toStringTag"),n={};n[r]="z",t.exports="[object z]"===String(n)}),n("hJCHs",function(t,e){var r,n,a,s,o=i("lg98N"),u=i("ofuSz"),h=i("MUQfw"),c=i("vPv51"),l=i("cqeph"),f=i("vrvDR"),p=i("fKMQm"),g=i("4VsVP"),d=i("hcnPV"),v=i("g1U3C"),y=i("e1NjX"),m=i("iaxFj"),x=o.setImmediate,b=o.clearImmediate,S=o.process,T=o.Dispatch,w=o.Function,A=o.MessageChannel,E=o.String,P=0,O={},C="onreadystatechange";f(function(){// Deno throws a ReferenceError on `location` access without `--location` flag
r=o.location});var N=function(t){if(l(O,t)){var e=O[t];delete O[t],e()}},M=function(t){return function(){N(t)}},R=function(t){N(t.data)},k=function(t){// old engines have not location.origin
o.postMessage(E(t),r.protocol+"//"+r.host)};x&&b||(x=function(t){v(arguments.length,1);var e=c(t)?t:w(t),r=g(arguments,1);return O[++P]=function(){u(e,void 0,r)},n(P),P},b=function(t){delete O[t]},m?n=function(t){S.nextTick(M(t))}:T&&T.now?n=function(t){T.now(M(t))}:A&&!y?(s=(a=new A).port2,a.port1.onmessage=R,n=h(s.postMessage,s)):o.addEventListener&&c(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!f(k)?(n=k,o.addEventListener("message",R,!1)):n=C in d("script")?function(t){p.appendChild(d("script"))[C]=function(){p.removeChild(this),N(t)}}:function(t){setTimeout(M(t),0)}),t.exports={set:x,clear:b}}),n("ofuSz",function(t,e){var r=i("hq8ps"),n=Function.prototype,a=n.apply,s=n.call;// eslint-disable-next-line es/no-reflect -- safe
t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(a):function(){return s.apply(a,arguments)})}),n("MUQfw",function(t,e){var r=i("cIwK1"),n=i("igMON"),a=i("hq8ps"),s=r(r.bind);// optional / simple context binding
t.exports=function(t,e){return n(t),void 0===e?t:a?s(t,e):function(){return t.apply(e,arguments)}}}),n("cIwK1",function(t,e){var r=i("2Hb5F"),n=i("jsANB");t.exports=function(t){// Nashorn bug:
//   https://github.com/zloirock/core-js/issues/1128
//   https://github.com/zloirock/core-js/issues/1130
if("Function"===r(t))return n(t)}}),n("fKMQm",function(t,e){var r=i("91qrK");t.exports=r("document","documentElement")}),n("4VsVP",function(t,e){var r=i("jsANB");t.exports=r([].slice)}),n("g1U3C",function(t,e){var r=TypeError;t.exports=function(t,e){if(t<e)throw new r("Not enough arguments");return t}}),n("e1NjX",function(t,e){var r=i("jsbyK");// eslint-disable-next-line redos/no-vulnerable -- safe
t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)}),n("ktQ5B",function(t,e){var r,n,a,s,o,u=i("lg98N"),h=i("MUQfw"),c=i("jNkEB").f,l=i("hJCHs").set,f=i("cwZHh"),p=i("e1NjX"),g=i("ldJpV"),d=i("1gIVg"),v=i("iaxFj"),y=u.MutationObserver||u.WebKitMutationObserver,m=u.document,x=u.process,b=u.Promise,S=c(u,"queueMicrotask"),T=S&&S.value;// modern engines have queueMicrotask method
if(!T){var w=new f,A=function(){var t,e;for(v&&(t=x.domain)&&t.exit();e=w.get();)try{e()}catch(t){throw w.head&&r(),t}t&&t.enter()};p||v||d||!y||!m?!g&&b&&b.resolve?(// workaround of WebKit ~ iOS Safari 10.1 bug
// Promise.resolve without an argument throws an error in LG WebOS 2
(s=b.resolve(void 0)).constructor=b,o=h(s.then,s),r=function(){o(A)}):v?r=function(){x.nextTick(A)}:(// `webpack` dev server bug on IE global methods - use bind(fn, global)
l=h(l,u),r=function(){l(A)}):(n=!0,a=m.createTextNode(""),new y(A).observe(a,{characterData:!0}),r=function(){a.data=n=!n}),T=function(t){w.head||r(),w.add(t)}}t.exports=T}),n("cwZHh",function(t,e){var r=function(){this.head=null,this.tail=null};r.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=r}),n("ldJpV",function(t,e){var r=i("jsbyK");t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble}),n("1gIVg",function(t,e){var r=i("jsbyK");t.exports=/web0s(?!.*chrome)/i.test(r)}),n("2E85B",function(t,e){t.exports=function(t,e){try{// eslint-disable-next-line no-console -- safe
1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}}),n("fDodz",function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}}),n("ckuCv",function(t,e){var r=i("lg98N");t.exports=r.Promise}),n("9qsBM",function(t,e){var r=i("lg98N"),n=i("ckuCv"),a=i("vPv51"),s=i("4UaSz"),o=i("k3TfO"),u=i("90RsT"),h=i("j7okU"),c=i("eW4o5"),l=i("ac5oF"),f=i("a1D6i"),p=n&&n.prototype,g=u("species"),d=!1,v=a(r.PromiseRejectionEvent),y=s("Promise",function(){var t=o(n),e=t!==String(n);// V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
// https://bugs.chromium.org/p/chromium/issues/detail?id=830565
// We can't detect it synchronously, so just check versions
if(!e&&66===f||l&&!(p.catch&&p.finally))return!0;// We can't use @@species feature detection in V8 since it causes
// deoptimization and performance degradation
// https://github.com/zloirock/core-js/issues/679
if(!f||f<51||!/native code/.test(t)){// Detect correctness of subclassing with @@species support
var r=new n(function(t){t(1)}),i=function(t){t(function(){},function(){})};if((r.constructor={})[g]=i,!(d=r.then(function(){}) instanceof i))return!0;// Unhandled rejections tracking support, NodeJS Promise without it fails @@species test
}return!e&&(h||c)&&!v});t.exports={CONSTRUCTOR:y,REJECTION_EVENT:v,SUBCLASSING:d}}),n("j7okU",function(t,e){var r=i("eW4o5"),n=i("iaxFj");t.exports=!r&&!n&&"object"==typeof window&&"object"==typeof document}),n("eW4o5",function(t,e){/* global Deno -- Deno case */t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version}),n("hPVzZ",function(t,r){e(t.exports,"f",function(){return n},function(t){return n=t});var n,a=i("igMON"),s=TypeError,o=function(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw new s("Bad Promise constructor");e=t,r=i}),this.resolve=a(e),this.reject=a(r)};n=function(t){return new o(t)}}),n("8HyI1",function(t,e){var r=i("2EYzm"),n=i("a1k1T"),a=i("igMON"),s=i("hPVzZ"),o=i("fDodz"),u=i("blkar");// `Promise.all` method
// https://tc39.es/ecma262/#sec-promise.all
r({target:"Promise",stat:!0,forced:i("hy1Z6")},{all:function(t){var e=this,r=s.f(e),i=r.resolve,h=r.reject,c=o(function(){var r=a(e.resolve),s=[],o=0,c=1;u(t,function(t){var a=o++,u=!1;c++,n(r,e,t).then(function(t){!u&&(u=!0,s[a]=t,--c||i(s))},h)}),--c||i(s)});return c.error&&h(c.value),r.promise}})}),n("blkar",function(t,e){var r=i("MUQfw"),n=i("a1k1T"),a=i("dl9gC"),s=i("9P9tT"),o=i("cQYzA"),u=i("75EWb"),h=i("9B40L"),c=i("dgEfM"),l=i("cBT8Q"),f=i("6mmR9"),p=TypeError,g=function(t,e){this.stopped=t,this.result=e},d=g.prototype;t.exports=function(t,e,i){var v,y,m,x,b,S,T,w=i&&i.that,A=!!(i&&i.AS_ENTRIES),E=!!(i&&i.IS_RECORD),P=!!(i&&i.IS_ITERATOR),O=!!(i&&i.INTERRUPTED),C=r(e,w),N=function(t){return v&&f(v,"normal",t),new g(!0,t)},M=function(t){return A?(a(t),O?C(t[0],t[1],N):C(t[0],t[1])):O?C(t,N):C(t)};if(E)v=t.iterator;else if(P)v=t;else{if(!(y=l(t)))throw new p(s(t)+" is not iterable");// optimisation for array iterators
if(o(y)){for(m=0,x=u(t);x>m;m++)if((b=M(t[m]))&&h(d,b))return b;return new g(!1)}v=c(t,y)}for(S=E?t.next:v.next;!(T=n(S,v)).done;){try{b=M(T.value)}catch(t){f(v,"throw",t)}if("object"==typeof b&&b&&h(d,b))return b}return new g(!1)}}),n("cQYzA",function(t,e){var r=i("90RsT"),n=i("13Aqq"),a=r("iterator"),s=Array.prototype;// check on default Array iterator
t.exports=function(t){return void 0!==t&&(n.Array===t||s[a]===t)}}),n("13Aqq",function(t,e){t.exports={}}),n("dgEfM",function(t,e){var r=i("a1k1T"),n=i("igMON"),a=i("dl9gC"),s=i("9P9tT"),o=i("cBT8Q"),u=TypeError;t.exports=function(t,e){var i=arguments.length<2?o(t):e;if(n(i))return a(r(i,t));throw new u(s(t)+" is not iterable")}}),n("cBT8Q",function(t,e){var r=i("3t8lc"),n=i("hRLiy"),a=i("7jen6"),s=i("13Aqq"),o=i("90RsT")("iterator");t.exports=function(t){if(!a(t))return n(t,o)||n(t,"@@iterator")||s[r(t)]}}),n("6mmR9",function(t,e){var r=i("a1k1T"),n=i("dl9gC"),a=i("hRLiy");t.exports=function(t,e,i){var s,o;n(t);try{if(!(s=a(t,"return"))){if("throw"===e)throw i;return i}s=r(s,t)}catch(t){o=!0,s=t}if("throw"===e)throw i;if(o)throw s;return n(s),i}}),n("hy1Z6",function(t,e){var r=i("ckuCv"),n=i("bqMeH"),a=i("9qsBM").CONSTRUCTOR;t.exports=a||!n(function(t){r.all(t).then(void 0,function(){})})}),n("bqMeH",function(t,e){var r=i("90RsT")("iterator"),n=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){n=!0}};s[r]=function(){return this},// eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing
Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){try{if(!e&&!n)return!1}catch(t){return!1}// workaround of old WebKit + `eval` bug
var i=!1;try{var a={};a[r]=function(){return{next:function(){return{done:i=!0}}}},t(a)}catch(t){}return i}}),n("hUYJN",function(t,e){var r=i("2EYzm"),n=i("ac5oF"),a=i("9qsBM").CONSTRUCTOR,s=i("ckuCv"),o=i("91qrK"),u=i("vPv51"),h=i("g1PTr"),c=s&&s.prototype;// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`
if(// `Promise.prototype.catch` method
// https://tc39.es/ecma262/#sec-promise.prototype.catch
r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(t){return this.then(void 0,t)}}),!n&&u(s)){var l=o("Promise").prototype.catch;c.catch!==l&&h(c,"catch",l,{unsafe:!0})}}),n("jmGte",function(t,e){var r=i("2EYzm"),n=i("a1k1T"),a=i("igMON"),s=i("hPVzZ"),o=i("fDodz"),u=i("blkar");// `Promise.race` method
// https://tc39.es/ecma262/#sec-promise.race
r({target:"Promise",stat:!0,forced:i("hy1Z6")},{race:function(t){var e=this,r=s.f(e),i=r.reject,h=o(function(){var s=a(e.resolve);u(t,function(t){n(s,e,t).then(r.resolve,i)})});return h.error&&i(h.value),r.promise}})}),n("iHuZg",function(t,e){var r=i("2EYzm"),n=i("a1k1T"),a=i("hPVzZ");// `Promise.reject` method
// https://tc39.es/ecma262/#sec-promise.reject
r({target:"Promise",stat:!0,forced:i("9qsBM").CONSTRUCTOR},{reject:function(t){var e=a.f(this);return n(e.reject,void 0,t),e.promise}})}),n("4ctmz",function(t,e){var r=i("2EYzm"),n=i("91qrK"),a=i("ac5oF"),s=i("ckuCv"),o=i("9qsBM").CONSTRUCTOR,u=i("1il8K"),h=n("Promise"),c=a&&!o;// `Promise.resolve` method
// https://tc39.es/ecma262/#sec-promise.resolve
r({target:"Promise",stat:!0,forced:a||o},{resolve:function(t){return u(c&&this===h?s:this,t)}})}),n("1il8K",function(t,e){var r=i("dl9gC"),n=i("7YENv"),a=i("hPVzZ");t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=a.f(t);return(0,i.resolve)(e),i.promise}}),n("5Eyia",function(t,e){function r(t,e,r,i,n,a,s){try{var o=t[a](s),u=o.value}catch(t){r(t);return}o.done?e(u):Promise.resolve(u).then(i,n)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise(function(n,a){var s=t.apply(e,i);function o(t){r(s,n,a,o,u,"next",t)}function u(t){r(s,n,a,o,u,"throw",t)}o(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports}),n("4DbTj",function(t,e){var r=i("a1k1T"),n=i("hNaz4"),a=i("dl9gC"),s=i("7jen6"),o=i("3Z5Kc"),u=i("iUzka"),h=i("5Xuh4"),c=i("hRLiy"),l=i("6foF9"),f=i("6RsPK");// @@match logic
n("match",function(t,e,i){return[// `String.prototype.match` method
// https://tc39.es/ecma262/#sec-string.prototype.match
function(e){var i=h(this),n=s(e)?void 0:c(e,t);return n?r(n,e,i):new RegExp(e)[t](u(i))},// `RegExp.prototype[@@match]` method
// https://tc39.es/ecma262/#sec-regexp.prototype-@@match
function(t){var r,n=a(this),s=u(t),h=i(e,n,s);if(h.done)return h.value;if(!n.global)return f(n,s);var c=n.unicode;n.lastIndex=0;for(var p=[],g=0;null!==(r=f(n,s));){var d=u(r[0]);p[g]=d,""===d&&(n.lastIndex=l(s,o(n.lastIndex),c)),g++}return 0===g?null:p}]})}),n("hNaz4",function(t,e){i("ejFEK");var r=i("cIwK1"),n=i("g1PTr"),a=i("2J1wC"),s=i("vrvDR"),o=i("90RsT"),u=i("6EQSf"),h=o("species"),c=RegExp.prototype;t.exports=function(t,e,i,l){var f=o(t),p=!s(function(){// String methods call symbol-named RegEp methods
var e={};return e[f]=function(){return 7},7!==""[t](e)}),g=p&&!s(function(){// Symbol-named RegExp methods call .exec
var e=!1,r=/a/;return"split"===t&&(// RegExp[@@split] doesn't call the regex's exec method, but first creates
// a new one. We need to return the patched regex when creating the new one.
// We can't use real regex here since it causes deoptimization
// and serious performance degradation in V8
// https://github.com/zloirock/core-js/issues/306
(r={}).constructor={},r.constructor[h]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e});if(!p||!g||i){var d=r(/./[f]),v=e(f,""[t],function(t,e,i,n,s){var o=r(t),u=e.exec;return u===a||u===c.exec?p&&!s?{done:!0,value:d(e,i,n)}:{done:!0,value:o(i,e,n)}:{done:!1}});n(String.prototype,t,v[0]),n(c,f,v[1])}l&&u(c[f],"sham",!0)}}),n("ejFEK",function(t,e){var r=i("2EYzm"),n=i("2J1wC");// `RegExp.prototype.exec` method
// https://tc39.es/ecma262/#sec-regexp.prototype.exec
r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})}),n("2J1wC",function(t,e){var r,n,a=i("a1k1T"),s=i("jsANB"),o=i("iUzka"),u=i("lUMX3"),h=i("cdZSe"),c=i("1QGmH"),l=i("bhbQG"),f=i("vYaSf").get,p=i("bKLjb"),g=i("wkQMr"),d=c("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,y=v,m=s("".charAt),x=s("".indexOf),b=s("".replace),S=s("".slice),T=(n=/b*/g,a(v,r=/a/,"a"),a(v,n,"a"),0!==r.lastIndex||0!==n.lastIndex),w=h.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(T||A||w||p||g)&&(y=function(t){var e,r,i,n,s,h,c,p=f(this),g=o(t),E=p.raw;if(E)return E.lastIndex=this.lastIndex,e=a(y,E,g),this.lastIndex=E.lastIndex,e;var P=p.groups,O=w&&this.sticky,C=a(u,this),N=this.source,M=0,R=g;if(O&&(-1===x(C=b(C,"y",""),"g")&&(C+="g"),R=S(g,this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==m(g,this.lastIndex-1))&&(N="(?: "+N+")",R=" "+R,M++),// ^(? + rx + ) is needed, in combination with some str slicing, to
// simulate the 'y' flag.
r=RegExp("^(?:"+N+")",C)),A&&(r=RegExp("^"+N+"$(?!\\s)",C)),T&&(i=this.lastIndex),n=a(v,O?r:this,R),O?n?(n.input=S(n.input,M),n[0]=S(n[0],M),n.index=this.lastIndex,this.lastIndex+=n[0].length):this.lastIndex=0:T&&n&&(this.lastIndex=this.global?n.index+n[0].length:i),A&&n&&n.length>1&&// for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/
a(d,n[0],r,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)}),n&&P)for(s=0,n.groups=h=l(null);s<P.length;s++)h[(c=P[s])[0]]=n[c[1]];return n}),t.exports=y}),n("iUzka",function(t,e){var r=i("3t8lc"),n=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return n(t)}}),n("lUMX3",function(t,e){var r=i("dl9gC");// `RegExp.prototype.flags` getter implementation
// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}}),n("cdZSe",function(t,e){var r=i("vrvDR"),n=i("lg98N").RegExp,a=r(function(){var t=n("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),s=a||r(function(){return!n("a","y").sticky}),o=a||r(function(){// https://bugzilla.mozilla.org/show_bug.cgi?id=773687
var t=n("^r","gy");return t.lastIndex=2,null!==t.exec("str")});t.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:a}}),n("bhbQG",function(t,e){var r,n=i("dl9gC"),a=i("ihmM4"),s=i("1M11X"),o=i("ep1m8"),u=i("fKMQm"),h=i("hcnPV"),c=i("4gwLc"),l="prototype",f="script",p=c("IE_PROTO"),g=function(){},d=function(t){return"<"+f+">"+t+"</"+f+">"},v=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){// Thrash, waste and sodomy: IE GC bug
var t,e=h("iframe");return e.style.display="none",u.appendChild(e),// https://github.com/zloirock/core-js/issues/475
e.src=String("java"+f+":"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}m="undefined"!=typeof document?document.domain&&r?v(r)// old IE
:y():v(r);// WSH
for(var t=s.length;t--;)delete m[l][s[t]];return m()};o[p]=!0,// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
// eslint-disable-next-line es/no-object-create -- safe
t.exports=Object.create||function(t,e){var r;return null!==t?(g[l]=n(t),r=new g,g[l]=null,// add "__proto__" for Object.getPrototypeOf polyfill
r[p]=t):r=m(),void 0===e?r:a.f(r,e)}}),n("ihmM4",function(t,r){e(t.exports,"f",function(){return n},function(t){return n=t});var n,a=i("amu33"),s=i("6WDgM"),o=i("01ZZj"),u=i("dl9gC"),h=i("464I6"),c=i("6aRCZ");n=a&&!s?Object.defineProperties:function(t,e){u(t);for(var r,i=h(e),n=c(e),a=n.length,s=0;a>s;)o.f(t,r=n[s++],i[r]);return t}}),n("6aRCZ",function(t,e){var r=i("ggzF6"),n=i("1M11X");// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
// eslint-disable-next-line es/no-object-keys -- safe
t.exports=Object.keys||function(t){return r(t,n)}}),n("bKLjb",function(t,e){var r=i("vrvDR"),n=i("lg98N").RegExp;t.exports=r(function(){var t=n(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})}),n("wkQMr",function(t,e){var r=i("vrvDR"),n=i("lg98N").RegExp;t.exports=r(function(){var t=n("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})}),n("6foF9",function(t,e){var r=i("aFtZb").charAt;// `AdvanceStringIndex` abstract operation
// https://tc39.es/ecma262/#sec-advancestringindex
t.exports=function(t,e,i){return e+(i?r(t,e).length:1)}}),n("aFtZb",function(t,e){var r=i("jsANB"),n=i("338pB"),a=i("iUzka"),s=i("5Xuh4"),o=r("".charAt),u=r("".charCodeAt),h=r("".slice),c=function(t){return function(e,r){var i,c,l=a(s(e)),f=n(r),p=l.length;return f<0||f>=p?t?"":void 0:(i=u(l,f))<55296||i>56319||f+1===p||(c=u(l,f+1))<56320||c>57343?t?o(l,f):i:t?h(l,f,f+2):(i-55296<<10)+(c-56320)+65536}};t.exports={// `String.prototype.codePointAt` method
// https://tc39.es/ecma262/#sec-string.prototype.codepointat
codeAt:c(!1),// `String.prototype.at` method
// https://github.com/mathiasbynens/String.prototype.at
charAt:c(!0)}}),n("6RsPK",function(t,e){var r=i("a1k1T"),n=i("dl9gC"),a=i("vPv51"),s=i("2Hb5F"),o=i("2J1wC"),u=TypeError;// `RegExpExec` abstract operation
// https://tc39.es/ecma262/#sec-regexpexec
t.exports=function(t,e){var i=t.exec;if(a(i)){var h=r(i,t,e);return null!==h&&n(h),h}if("RegExp"===s(t))return r(o,t,e);throw new u("RegExp#exec called on incompatible receiver")}}),n("ja1Yp",function(t,e){var r=i("ofuSz"),n=i("a1k1T"),a=i("jsANB"),s=i("hNaz4"),o=i("vrvDR"),u=i("dl9gC"),h=i("vPv51"),c=i("7jen6"),l=i("338pB"),f=i("3Z5Kc"),p=i("iUzka"),g=i("5Xuh4"),d=i("6foF9"),v=i("hRLiy"),y=i("7Ounh"),m=i("6RsPK"),x=i("90RsT")("replace"),b=Math.max,S=Math.min,T=a([].concat),w=a([].push),A=a("".indexOf),E=a("".slice),P="$0"==="a".replace(/./,"$0"),O=!!/./[x]&&""===/./[x]("a","$0");// @@replace logic
s("replace",function(t,e,i){var a=O?"$":"$0";return[// `String.prototype.replace` method
// https://tc39.es/ecma262/#sec-string.prototype.replace
function(t,r){var i=g(this),a=c(t)?void 0:v(t,x);return a?n(a,t,i,r):n(e,p(i),t,r)},// `RegExp.prototype[@@replace]` method
// https://tc39.es/ecma262/#sec-regexp.prototype-@@replace
function(t,n){var s=u(this),o=p(t);if("string"==typeof n&&-1===A(n,a)&&-1===A(n,"$<")){var c=i(e,s,o,n);if(c.done)return c.value}var g=h(n);g||(n=p(n));var v=s.global;v&&(M=s.unicode,s.lastIndex=0);for(var x=[];null!==(R=m(s,o))&&(w(x,R),v);)""===p(R[0])&&(s.lastIndex=d(o,f(s.lastIndex),M));for(var P="",O=0,C=0;C<x.length;C++){// NOTE: This is equivalent to
//   captures = result.slice(1).map(maybeToString)
// but for some reason `nativeSlice.call(result, 1, result.length)` (called in
// the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and
// causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.
for(var N,M,R,k,V=p((R=x[C])[0]),_=b(S(l(R.index),o.length),0),I=[],D=1;D<R.length;D++)w(I,void 0===(N=R[D])?N:String(N));var j=R.groups;if(g){var L=T([V],I,_,o);void 0!==j&&w(L,j),k=p(r(n,void 0,L))}else k=y(V,o,_,I,j,n);_>=O&&(P+=E(o,O,_)+k,O=_+V.length)}return P+E(o,O)}]},!!o(function(){var t=/./;// eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive
return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!P||O)}),n("7Ounh",function(t,e){var r=i("jsANB"),n=i("5I5zp"),a=Math.floor,s=r("".charAt),o=r("".replace),u=r("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;// `GetSubstitution` abstract operation
// https://tc39.es/ecma262/#sec-getsubstitution
t.exports=function(t,e,r,i,l,f){var p=r+t.length,g=i.length,d=c;return void 0!==l&&(l=n(l),d=h),o(f,d,function(n,o){var h;switch(s(o,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,p);case"<":h=l[u(o,1,-1)];break;default:var c=+o;if(0===c)return n;if(c>g){var f=a(c/10);if(0===f)return n;if(f<=g)return void 0===i[f-1]?s(o,1):i[f-1]+s(o,1);return n}h=i[c-1]}return void 0===h?"":h})}}),n("7aoHX",function(t,e){var r,n=i("2EYzm"),a=i("cIwK1"),s=i("jNkEB").f,o=i("3Z5Kc"),u=i("iUzka"),h=i("9gNlh"),c=i("5Xuh4"),l=i("bui8E"),f=i("ac5oF"),p=a("".startsWith),g=a("".slice),d=Math.min,v=l("startsWith");// `String.prototype.startsWith` method
// https://tc39.es/ecma262/#sec-string.prototype.startswith
n({target:"String",proto:!0,forced:!(!f&&!v&&(r=s(String.prototype,"startsWith"))&&!r.writable)&&!v},{startsWith:function(t/* , position = 0 */){var e=u(c(this));h(t);var r=o(d(arguments.length>1?arguments[1]:void 0,e.length)),i=u(t);return p?p(e,i,r):g(e,r,r+i.length)===i}})}),n("9gNlh",function(t,e){var r=i("jGabu"),n=TypeError;t.exports=function(t){if(r(t))throw new n("The method doesn't accept regular expressions");return t}}),n("jGabu",function(t,e){var r=i("7YENv"),n=i("2Hb5F"),a=i("90RsT")("match");// `IsRegExp` abstract operation
// https://tc39.es/ecma262/#sec-isregexp
t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"===n(t))}}),n("bui8E",function(t,e){var r=i("90RsT")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}}),n("g3nQT",function(t,e){var r=i("464I6"),n=i("Q4Ktq"),a=i("13Aqq"),s=i("vYaSf"),o=i("01ZZj").f,u=i("kDJ3i"),h=i("3U0A7"),c=i("ac5oF"),l=i("amu33"),f="Array Iterator",p=s.set,g=s.getterFor(f);// `Array.prototype.entries` method
// https://tc39.es/ecma262/#sec-array.prototype.entries
// `Array.prototype.keys` method
// https://tc39.es/ecma262/#sec-array.prototype.keys
// `Array.prototype.values` method
// https://tc39.es/ecma262/#sec-array.prototype.values
// `Array.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-array.prototype-@@iterator
// `CreateArrayIterator` internal method
// https://tc39.es/ecma262/#sec-createarrayiterator
t.exports=u(Array,"Array",function(t,e){p(this,{type:f,target:r(t),index:0,kind:e// kind
});// `%ArrayIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
},function(){var t=g(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,h(void 0,!0);switch(t.kind){case"keys":return h(r,!1);case"values":return h(e[r],!1)}return h([r,e[r]],!1)},"values");// argumentsList[@@iterator] is %ArrayProto_values%
// https://tc39.es/ecma262/#sec-createunmappedargumentsobject
// https://tc39.es/ecma262/#sec-createmappedargumentsobject
var d=a.Arguments=a.Array;// V8 ~ Chrome 45- bug
if(// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
n("keys"),n("values"),n("entries"),!c&&l&&"values"!==d.name)try{o(d,"name",{value:"values"})}catch(t){}}),n("Q4Ktq",function(t,e){var r=i("90RsT"),n=i("bhbQG"),a=i("01ZZj").f,s=r("unscopables"),o=Array.prototype;void 0===o[s]&&a(o,s,{configurable:!0,value:n(null)}),// add a key to Array.prototype[@@unscopables]
t.exports=function(t){o[s][t]=!0}}),n("kDJ3i",function(t,e){var r=i("2EYzm"),n=i("a1k1T"),a=i("ac5oF"),s=i("5NzQB"),o=i("vPv51"),u=i("atXRo"),h=i("J9XE4"),c=i("3ikjo"),l=i("hzEP5"),f=i("6EQSf"),p=i("g1PTr"),g=i("90RsT"),d=i("13Aqq"),v=i("iiBlK"),y=s.PROPER,m=s.CONFIGURABLE,x=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,S=g("iterator"),T="keys",w="values",A="entries",E=function(){return this};t.exports=function(t,e,i,s,g,v,P){u(i,e,s);var O,C,N,M=function(t){if(t===g&&I)return I;if(!b&&t&&t in V)return V[t];switch(t){case T:case w:case A:return function(){return new i(this,t)}}return function(){return new i(this)}},R=e+" Iterator",k=!1,V=t.prototype,_=V[S]||V["@@iterator"]||g&&V[g],I=!b&&_||M(g),D="Array"===e&&V.entries||_;// export additional methods
if(D&&(O=h(D.call(new t)))!==Object.prototype&&O.next&&(a||h(O)===x||(c?c(O,x):o(O[S])||p(O,S,E)),// Set @@toStringTag to native iterators
l(O,R,!0,!0),a&&(d[R]=E)),y&&g===w&&_&&_.name!==w&&(!a&&m?f(V,"name",w):(k=!0,I=function(){return n(_,this)})),g){if(C={values:M(w),keys:v?I:M(T),entries:M(A)},P)for(N in C)!b&&!k&&N in V||p(V,N,C[N]);else r({target:e,proto:!0,forced:b||k},C)}return(!a||P)&&V[S]!==I&&p(V,S,I,{name:g}),d[e]=I,C}}),n("atXRo",function(t,e){var r=i("iiBlK").IteratorPrototype,n=i("bhbQG"),a=i("8Azf4"),s=i("hzEP5"),o=i("13Aqq"),u=function(){return this};t.exports=function(t,e,i,h){var c=e+" Iterator";return t.prototype=n(r,{next:a(+!h,i)}),s(t,c,!1,!0),o[c]=u,t}}),n("iiBlK",function(t,e){var r,n,a,s=i("vrvDR"),o=i("vPv51"),u=i("7YENv"),h=i("bhbQG"),c=i("J9XE4"),l=i("g1PTr"),f=i("90RsT"),p=i("ac5oF"),g=f("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(n=c(c(a)))!==Object.prototype&&(r=n):d=!0),!u(r)||s(function(){var t={};// FF44- legacy iterators case
return r[g].call(t)!==t})?r={}:p&&(r=h(r)),o(r[g])||l(r,g,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}}),n("J9XE4",function(t,e){var r=i("cqeph"),n=i("vPv51"),a=i("5I5zp"),s=i("4gwLc"),o=i("iUgPV"),u=s("IE_PROTO"),h=Object,c=h.prototype;// `Object.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.getprototypeof
// eslint-disable-next-line es/no-object-getprototypeof -- safe
t.exports=o?h.getPrototypeOf:function(t){var e=a(t);if(r(e,u))return e[u];var i=e.constructor;return n(i)&&e instanceof i?i.prototype:e instanceof h?c:null}}),n("iUgPV",function(t,e){var r=i("vrvDR");t.exports=!r(function(){function t(){}// eslint-disable-next-line es/no-object-getprototypeof -- required for testing
return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})}),n("3U0A7",function(t,e){// `CreateIterResultObject` abstract operation
// https://tc39.es/ecma262/#sec-createiterresultobject
t.exports=function(t,e){return{value:t,done:e}}}),n("7SNTk",function(t,e){var r=i("lg98N"),n=i("bWrep"),a=i("hE2Kz"),s=i("g3nQT"),o=i("6EQSf"),u=i("90RsT"),h=u("iterator"),c=u("toStringTag"),l=s.values,f=function(t,e){if(t){// some Chrome versions have non-configurable methods on DOMTokenList
if(t[h]!==l)try{o(t,h,l)}catch(e){t[h]=l}if(t[c]||o(t,c,e),n[e]){for(var r in s)// some Chrome versions have non-configurable methods on DOMTokenList
if(t[r]!==s[r])try{o(t,r,s[r])}catch(e){t[r]=s[r]}}}};for(var p in n)f(r[p]&&r[p].prototype,p);f(a,"DOMTokenList")}),n("bWrep",function(t,e){// iterable DOM collections
// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods
t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),n("hE2Kz",function(t,e){var r=i("hcnPV")("span").classList,n=r&&r.constructor&&r.constructor.prototype;t.exports=n===Object.prototype?void 0:n}),n("joZiE",function(t,e){var r=i("pnwhY");t.exports=function(t,e,i){return(e=r(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.__esModule=!0,t.exports.default=t.exports}),n("pnwhY",function(t,e){var r=i("jizDh").default,n=i("jPFOp");t.exports=function(t){var e=n(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports}),n("jPFOp",function(t,e){var r=i("jizDh").default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports}),n("9CpNo",function(t,e){var r=i("2EYzm"),n=i("ijIHN").left,a=i("fM9O6"),s=i("a1D6i");// `Array.prototype.reduce` method
// https://tc39.es/ecma262/#sec-array.prototype.reduce
r({target:"Array",proto:!0,forced:!i("iaxFj")&&s>79&&s<83||!a("reduce")},{reduce:function(t/* , initialValue */){var e=arguments.length;return n(this,t,e,e>1?arguments[1]:void 0)}})}),n("ijIHN",function(t,e){var r=i("igMON"),n=i("5I5zp"),a=i("4F4p3"),s=i("75EWb"),o=TypeError,u=function(t){return function(e,i,u,h){r(i);var c=n(e),l=a(c),f=s(c),p=t?f-1:0,g=t?-1:1;if(u<2)for(;;){if(p in l){h=l[p],p+=g;break}if(p+=g,t?p<0:f<=p)throw new o("Reduce of empty array with no initial value")}for(;t?p>=0:f>p;p+=g)p in l&&(h=i(h,l[p],p,c));return h}};t.exports={// `Array.prototype.reduce` method
// https://tc39.es/ecma262/#sec-array.prototype.reduce
left:u(!1),// `Array.prototype.reduceRight` method
// https://tc39.es/ecma262/#sec-array.prototype.reduceright
right:u(!0)}}),n("fM9O6",function(t,e){var r=i("vrvDR");t.exports=function(t,e){var i=[][t];return!!i&&r(function(){// eslint-disable-next-line no-useless-call -- required for testing
i.call(null,e||function(){return 1},1)})}}),n("itSR0",function(t,e){var r,n=i("2EYzm"),a=i("cIwK1"),s=i("jNkEB").f,o=i("3Z5Kc"),u=i("iUzka"),h=i("9gNlh"),c=i("5Xuh4"),l=i("bui8E"),f=i("ac5oF"),p=a("".endsWith),g=a("".slice),d=Math.min,v=l("endsWith");// `String.prototype.endsWith` method
// https://tc39.es/ecma262/#sec-string.prototype.endswith
n({target:"String",proto:!0,forced:!(!f&&!v&&(r=s(String.prototype,"endsWith"))&&!r.writable)&&!v},{endsWith:function(t/* , endPosition = @length */){var e=u(c(this));h(t);var r=arguments.length>1?arguments[1]:void 0,i=e.length,n=void 0===r?i:d(o(r),i),a=u(t);return p?p(e,a,n):g(e,n-a.length,n)===a}})}),n("aJRpN",function(t,e){var r=i("ofuSz"),n=i("a1k1T"),a=i("jsANB"),s=i("hNaz4"),o=i("dl9gC"),u=i("7jen6"),h=i("jGabu"),c=i("5Xuh4"),l=i("3BqAD"),f=i("6foF9"),p=i("3Z5Kc"),g=i("iUzka"),d=i("hRLiy"),v=i("1bo6V"),y=i("6RsPK"),m=i("2J1wC"),x=i("cdZSe"),b=i("vrvDR"),S=x.UNSUPPORTED_Y,T=Math.min,w=[].push,A=a(/./.exec),E=a(w),P=a("".slice);// @@split logic
s("split",function(t,e,i){var a;return a="c"==="abbc".split(/(b)*/)[1]||// eslint-disable-next-line regexp/no-empty-group -- required for testing
4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||// eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing
".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a,s,o,u=g(c(this)),l=void 0===i?4294967295:i>>>0;if(0===l)return[];if(void 0===t)return[u];// If `separator` is not a regex, use native split
if(!h(t))return n(e,u,t,l);for(var f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=RegExp(t.source,p+"g");(a=n(m,y,u))&&(!((s=y.lastIndex)>d)||(E(f,P(u,d,a.index)),a.length>1&&a.index<u.length&&r(w,f,v(a,1)),o=a[0].length,d=s,!(f.length>=l)));)y.lastIndex===a.index&&y.lastIndex++;// Avoid an infinite loop
return d===u.length?(o||!A(y,""))&&E(f,""):E(f,P(u,d)),f.length>l?v(f,0,l):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n(e,this,t,r)}:e,[// `String.prototype.split` method
// https://tc39.es/ecma262/#sec-string.prototype.split
function(e,r){var i=c(this),s=u(e)?void 0:d(e,t);return s?n(s,e,i,r):n(a,g(i),e,r)},// `RegExp.prototype[@@split]` method
// https://tc39.es/ecma262/#sec-regexp.prototype-@@split
//
// NOTE: This cannot be properly polyfilled in engines that don't support
// the 'y' flag.
function(t,r){var n=o(this),s=g(t),u=i(a,n,s,r,a!==e);if(u.done)return u.value;var h=l(n,RegExp),c=n.unicode,d=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(S?"g":"y"),v=new h(S?"^(?:"+n.source+")":n,d),m=void 0===r?4294967295:r>>>0;if(0===m)return[];if(0===s.length)return null===y(v,s)?[s]:[];for(var x=0,b=0,w=[];b<s.length;){v.lastIndex=S?0:b;var A,O=y(v,S?P(s,b):s);if(null===O||(A=T(p(v.lastIndex+(S?b:0)),s.length))===x)b=f(s,b,c);else{if(E(w,P(s,x,b)),w.length===m)return w;for(var C=1;C<=O.length-1;C++)if(E(w,O[C]),w.length===m)return w;b=x=A}}return E(w,P(s,x)),w}]},!!b(function(){// eslint-disable-next-line regexp/no-empty-group -- required for testing
var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}),S)}),n("1bo6V",function(t,e){var r=i("lFNbf"),n=i("75EWb"),a=i("i1Cw2"),s=Array,o=Math.max;t.exports=function(t,e,i){for(var u=n(t),h=r(e,u),c=r(void 0===i?u:i,u),l=s(o(c-h,0)),f=0;h<c;h++,f++)a(l,f,t[h]);return l.length=f,l}}),n("i1Cw2",function(t,e){var r=i("hDdci"),n=i("01ZZj"),a=i("8Azf4");t.exports=function(t,e,i){var s=r(e);s in t?n.f(t,s,a(0,i)):t[s]=i}}),n("2wBg6",function(t,e){for(var n=i("iATto"),a="undefined"==typeof window?r:window,s=["moz","webkit"],o="AnimationFrame",u=a["request"+o],h=a["cancel"+o]||a["cancelRequest"+o],c=0;!u&&c<s.length;c++)u=a[s[c]+"Request"+o],h=a[s[c]+"Cancel"+o]||a[s[c]+"CancelRequest"+o];// Some versions of FF have rAF but not cAF
if(!u||!h){var l=0,f=0,p=[],g=1e3/60;u=function(t){if(0===p.length){var e=n(),r=Math.max(0,g-(e-l));l=r+e,setTimeout(function(){var t=p.slice(0);// Clear queue here to prevent
// callbacks from appending listeners
// to the current frame's queue
p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(t){setTimeout(function(){throw t},0)}},Math.round(r))}return p.push({handle:++f,callback:t,cancelled:!1}),f},h=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}t.exports=function(t){// Wrap in a new function to prevent
// `cancel` potentially being assigned
// to the native rAF function
return u.call(a,t)},t.exports.cancel=function(){h.apply(a,arguments)},t.exports.polyfill=function(t){t||(t=a),t.requestAnimationFrame=u,t.cancelAnimationFrame=h}}),n("iATto",function(t,e){var r=i("ifSkl");// Generated by CoffeeScript 1.12.2
(function(){var e,i,n,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=r&&r.hrtime?(t.exports=function(){return(e()-a)/1e6},i=r.hrtime,a=(e=function(){var t;return 1e9*(t=i())[0]+t[1]})()-1e9*r.uptime()):Date.now?(t.exports=function(){return Date.now()-n},n=Date.now()):(t.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(t.exports)}),n("ifSkl",function(t,e){// shim for using process in browser
var r,i,n,a=t.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);// if setTimeout wasn't available but was latter defined
if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{// when when somebody has screwed with setTimeout but no I.E. maddness
return r(t,0)}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
return r.call(null,t,0)}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var h=[],c=!1,l=-1;function f(){c&&n&&(c=!1,n.length?h=n.concat(h):l=-1,h.length&&p())}function p(){if(!c){var t=u(f);c=!0;for(var e=h.length;e;){for(n=h,h=[];++l<e;)n&&n[l].run();l=-1,e=h.length}n=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);// if clearTimeout wasn't available but was latter defined
if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{// when when somebody has screwed with setTimeout but no I.E. maddness
i(t)}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
return i.call(null,t)}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
// Some versions of I.E. have different rules for clearTimeout vs setTimeout
return i.call(this,t)}}}(t)}}// v8 likes predictible objects
function g(t,e){this.fun=t,this.array=e}function d(){}a.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new g(t,e)),1!==h.length||c||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=d,a.addListener=d,a.once=d,a.off=d,a.removeListener=d,a.removeAllListeners=d,a.emit=d,a.prependListener=d,a.prependOnceListener=d,a.listeners=function(t){return[]},a.binding=function(t){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}),n("2tTXU",function(t,e){var r=i("2EYzm"),n=i("krVVS").trim;// `String.prototype.trim` method
// https://tc39.es/ecma262/#sec-string.prototype.trim
r({target:"String",proto:!0,forced:i("4XyqA")("trim")},{trim:function(){return n(this)}})}),n("krVVS",function(t,e){var r=i("jsANB"),n=i("5Xuh4"),a=i("iUzka"),s=i("WmK1p"),o=r("".replace),u=RegExp("^["+s+"]+"),h=RegExp("(^|[^"+s+"])["+s+"]+$"),c=function(t){return function(e){var r=a(n(e));return 1&t&&(r=o(r,u,"")),2&t&&(r=o(r,h,"$1")),r}};t.exports={// `String.prototype.{ trimLeft, trimStart }` methods
// https://tc39.es/ecma262/#sec-string.prototype.trimstart
start:c(1),// `String.prototype.{ trimRight, trimEnd }` methods
// https://tc39.es/ecma262/#sec-string.prototype.trimend
end:c(2),// `String.prototype.trim` method
// https://tc39.es/ecma262/#sec-string.prototype.trim
trim:c(3)}}),n("WmK1p",function(t,e){// a string of all valid unicode whitespaces
t.exports="	\n\v\f\r \xa0              　\u2028\u2029\uFEFF"}),n("4XyqA",function(t,e){var r=i("5NzQB").PROPER,n=i("vrvDR"),a=i("WmK1p"),s="​\x85᠎";// check that a method works with the correct list
// of whitespaces and has a correct name
t.exports=function(t){return n(function(){return!!a[t]()||s[t]()!==s||r&&a[t].name!==t})}}),n("bp0Wq",function(t,e){/*
	Based on rgbcolor.js by Stoyan Stefanov <sstoo@gmail.com>
	http://www.phpied.com/rgb-color-parser-in-javascript/
*/t.exports=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6));// before getting into regexps, try simple matches
// and overwrite the input
var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;// search through the definitions to find a match
for(var r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<r.length;i++){var n=r[i].re,a=r[i].process,s=n.exec(t);if(s){var o=a(s);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}// validate/cleanup values
this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,// some getters
this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),"#"+t+e+r},// help
this.getHelpXML=function(){// add regexps
for(var t=[],i=0;i<r.length;i++)for(var n=r[i].example,a=0;a<n.length;a++)t[t.length]=n[a];// add type-in colors
for(var s in e)t[t.length]=s;var o=document.createElement("ul");o.setAttribute("id","rgbcolor-examples");for(var i=0;i<t.length;i++)try{var u=document.createElement("li"),h=new RGBColor(t[i]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+h.toHex()+"; color:"+h.toHex(),c.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+t[i]+" -> "+h.toRGB()+" -> "+h.toHex());u.appendChild(c),u.appendChild(l),o.appendChild(u)}catch(t){}return o}}}),n("gzfZF",function(t,e){var r=i("2EYzm"),n=i("cIwK1"),a=i("k7S90").indexOf,s=i("fM9O6"),o=n([].indexOf),u=!!o&&1/o([1],1,-0)<0;// `Array.prototype.indexOf` method
// https://tc39.es/ecma262/#sec-array.prototype.indexof
r({target:"Array",proto:!0,forced:u||!s("indexOf")},{indexOf:function(t/* , fromIndex = 0 */){var e=arguments.length>1?arguments[1]:void 0;return u?o(this,t,e)||0:a(this,t,e)}})}),n("bkVSL",function(t,e){var r=i("2EYzm"),n=i("jsANB"),a=i("9gNlh"),s=i("5Xuh4"),o=i("iUzka"),u=i("bui8E"),h=n("".indexOf);// `String.prototype.includes` method
// https://tc39.es/ecma262/#sec-string.prototype.includes
r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t/* , position = 0 */){return!!~h(o(s(this)),o(a(t)),arguments.length>1?arguments[1]:void 0)}})}),n("5uqZg",function(t,e){var r=i("2EYzm"),n=i("jsANB"),a=i("dMEGC"),s=n([].reverse),o=[1,2];// `Array.prototype.reverse` method
// https://tc39.es/ecma262/#sec-array.prototype.reverse
// fix for Safari 12.0 bug
// https://bugs.webkit.org/show_bug.cgi?id=188794
r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),s(this)}})}),n("dMEGC",function(t,e){var r=i("2Hb5F");// `IsArray` abstract operation
// https://tc39.es/ecma262/#sec-isarray
// eslint-disable-next-line es/no-array-isarray -- safe
t.exports=Array.isArray||function(t){return"Array"===r(t)}}),n("04jIG",function(t,r){e(t.exports,"SVGPathData",function(){return x});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function a(t,e){var r=t[0],i=t[1];return[r*Math.cos(e)-i*Math.sin(e),r*Math.sin(e)+i*Math.cos(e)]}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if("number"!=typeof t[r])throw Error("assertNumbers arguments["+r+"] is not a number. "+typeof t[r]+" == typeof "+t[r]);return!0}var o=Math.PI;function u(t,e,r){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var i=t.rX,n=t.rY,s=t.x,u=t.y;i=Math.abs(t.rX),n=Math.abs(t.rY);var h=a([(e-s)/2,(r-u)/2],-t.xRot/180*o),c=h[0],l=h[1],f=Math.pow(c,2)/Math.pow(i,2)+Math.pow(l,2)/Math.pow(n,2);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f)),t.rX=i,t.rY=n;var p=Math.pow(i,2)*Math.pow(l,2)+Math.pow(n,2)*Math.pow(c,2),g=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(i,2)*Math.pow(n,2)-p)/p)),d=i*l/n*g,v=-n*c/i*g,y=a([d,v],t.xRot/180*o);t.cX=y[0]+(e+s)/2,t.cY=y[1]+(r+u)/2,t.phi1=Math.atan2((l-v)/n,(c-d)/i),t.phi2=Math.atan2((-l-v)/n,(-c-d)/i),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*o),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*o),t.phi1*=180/o,t.phi2*=180/o}function h(t,e,r){s(t,e,r);var i=t*t+e*e-r*r;if(0>i)return[];if(0===i)return[[t*r/(t*t+e*e),e*r/(t*t+e*e)]];var n=Math.sqrt(i);return[[(t*r+e*n)/(t*t+e*e),(e*r-t*n)/(t*t+e*e)],[(t*r-e*n)/(t*t+e*e),(e*r+t*n)/(t*t+e*e)]]}var c,l=Math.PI/180;function f(t,e,r,i){return t+Math.cos(i/180*o)*e+Math.sin(i/180*o)*r}function p(t,e,r,i){var n=e-t,a=r-e,s=3*n+3*(i-r)-6*a,o=6*(a-n),u=3*n;return 1e-6>Math.abs(s)?[-u/o]:function(t,e,r){void 0===r&&(r=1e-6);var i=t*t/4-e;if(i<-r)return[];if(i<=r)return[-t/2];var n=Math.sqrt(i);return[-t/2-n,-t/2+n]}(o/s,u/s,1e-6)}function g(t,e,r,i,n){var a=1-n;return t*(a*a*a)+e*(3*a*a*n)+r*(3*a*n*n)+i*(n*n*n)}!function(t){function e(){return n(function(t,e,r){return t.relative&&(void 0!==t.x1&&(t.x1+=e),void 0!==t.y1&&(t.y1+=r),void 0!==t.x2&&(t.x2+=e),void 0!==t.y2&&(t.y2+=r),void 0!==t.x&&(t.x+=e),void 0!==t.y&&(t.y+=r),t.relative=!1),t})}function r(){var t=NaN,e=NaN,r=NaN,i=NaN;return n(function(n,a,s){return n.type&x.SMOOTH_CURVE_TO&&(n.type=x.CURVE_TO,t=isNaN(t)?a:t,e=isNaN(e)?s:e,n.x1=n.relative?a-t:2*a-t,n.y1=n.relative?s-e:2*s-e),n.type&x.CURVE_TO?(t=n.relative?a+n.x2:n.x2,e=n.relative?s+n.y2:n.y2):(t=NaN,e=NaN),n.type&x.SMOOTH_QUAD_TO&&(n.type=x.QUAD_TO,r=isNaN(r)?a:r,i=isNaN(i)?s:i,n.x1=n.relative?a-r:2*a-r,n.y1=n.relative?s-i:2*s-i),n.type&x.QUAD_TO?(r=n.relative?a+n.x1:n.x1,i=n.relative?s+n.y1:n.y1):(r=NaN,i=NaN),n})}function i(){var t=NaN,e=NaN;return n(function(r,i,n){if(r.type&x.SMOOTH_QUAD_TO&&(r.type=x.QUAD_TO,t=isNaN(t)?i:t,e=isNaN(e)?n:e,r.x1=r.relative?i-t:2*i-t,r.y1=r.relative?n-e:2*n-e),r.type&x.QUAD_TO){t=r.relative?i+r.x1:r.x1,e=r.relative?n+r.y1:r.y1;var a=r.x1,s=r.y1;r.type=x.CURVE_TO,r.x1=((r.relative?0:i)+2*a)/3,r.y1=((r.relative?0:n)+2*s)/3,r.x2=(r.x+2*a)/3,r.y2=(r.y+2*s)/3}else t=NaN,e=NaN;return r})}function n(t){var e=0,r=0,i=NaN,n=NaN;return function(a){if(isNaN(i)&&!(a.type&x.MOVE_TO))throw Error("path must start with moveto");var s=t(a,e,r,i,n);return a.type&x.CLOSE_PATH&&(e=i,r=n),void 0!==a.x&&(e=a.relative?e+a.x:a.x),void 0!==a.y&&(r=a.relative?r+a.y:a.y),a.type&x.MOVE_TO&&(i=e,n=r),s}}function o(t,e,r,i,a,o){return s(t,e,r,i,a,o),n(function(n,s,u,h){var c=n.x1,l=n.x2,f=n.relative&&!isNaN(h),p=void 0!==n.x?n.x:f?0:s,g=void 0!==n.y?n.y:f?0:u;n.type&x.HORIZ_LINE_TO&&0!==e&&(n.type=x.LINE_TO,n.y=n.relative?0:u),n.type&x.VERT_LINE_TO&&0!==r&&(n.type=x.LINE_TO,n.x=n.relative?0:s),void 0!==n.x&&(n.x=n.x*t+g*r+(f?0:a)),void 0!==n.y&&(n.y=p*e+n.y*i+(f?0:o)),void 0!==n.x1&&(n.x1=n.x1*t+n.y1*r+(f?0:a)),void 0!==n.y1&&(n.y1=c*e+n.y1*i+(f?0:o)),void 0!==n.x2&&(n.x2=n.x2*t+n.y2*r+(f?0:a)),void 0!==n.y2&&(n.y2=l*e+n.y2*i+(f?0:o));var d=t*i-e*r;if(void 0!==n.xRot&&(1!==t||0!==e||0!==r||1!==i)){if(0===d)delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag,n.type=x.LINE_TO;else{var v,y,m=n.xRot*Math.PI/180,b=Math.sin(m),S=Math.cos(m),T=1/((v=n.rX)*v),w=1/((y=n.rY)*y),A=S*S*T+b*b*w,E=2*b*S*(T-w),P=b*b*T+S*S*w,O=A*i*i-E*e*i+P*e*e,C=E*(t*i+e*r)-2*(A*r*i+P*t*e),N=A*r*r-E*t*r+P*t*t,M=(Math.atan2(C,O-N)+Math.PI)%Math.PI/2,R=Math.sin(M),k=Math.cos(M);n.rX=Math.abs(d)/Math.sqrt(O*(k*k)+C*R*k+N*(R*R)),n.rY=Math.abs(d)/Math.sqrt(O*(R*R)-C*R*k+N*(k*k)),n.xRot=180*M/Math.PI}}return void 0!==n.sweepFlag&&0>d&&(n.sweepFlag=+!n.sweepFlag),n})}t.ROUND=function(t){function e(e){return Math.round(e*t)/t}return void 0===t&&(t=1e13),s(t),function(t){return void 0!==t.x1&&(t.x1=e(t.x1)),void 0!==t.y1&&(t.y1=e(t.y1)),void 0!==t.x2&&(t.x2=e(t.x2)),void 0!==t.y2&&(t.y2=e(t.y2)),void 0!==t.x&&(t.x=e(t.x)),void 0!==t.y&&(t.y=e(t.y)),void 0!==t.rX&&(t.rX=e(t.rX)),void 0!==t.rY&&(t.rY=e(t.rY)),t}},t.TO_ABS=e,t.TO_REL=function(){return n(function(t,e,r){return t.relative||(void 0!==t.x1&&(t.x1-=e),void 0!==t.y1&&(t.y1-=r),void 0!==t.x2&&(t.x2-=e),void 0!==t.y2&&(t.y2-=r),void 0!==t.x&&(t.x-=e),void 0!==t.y&&(t.y-=r),t.relative=!0),t})},t.NORMALIZE_HVZ=function(t,e,r){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),n(function(i,n,a,s,o){if(isNaN(s)&&!(i.type&x.MOVE_TO))throw Error("path must start with moveto");return e&&i.type&x.HORIZ_LINE_TO&&(i.type=x.LINE_TO,i.y=i.relative?0:a),r&&i.type&x.VERT_LINE_TO&&(i.type=x.LINE_TO,i.x=i.relative?0:n),t&&i.type&x.CLOSE_PATH&&(i.type=x.LINE_TO,i.x=i.relative?s-n:s,i.y=i.relative?o-a:o),i.type&x.ARC&&(0===i.rX||0===i.rY)&&(i.type=x.LINE_TO,delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag),i})},t.NORMALIZE_ST=r,t.QT_TO_C=i,t.INFO=n,t.SANITIZE=function(t){void 0===t&&(t=0),s(t);var e=NaN,r=NaN,i=NaN,a=NaN;return n(function(n,s,o,u,h){var c=Math.abs,l=!1,f=0,p=0;if(n.type&x.SMOOTH_CURVE_TO&&(f=isNaN(e)?0:s-e,p=isNaN(r)?0:o-r),n.type&(x.CURVE_TO|x.SMOOTH_CURVE_TO)?(e=n.relative?s+n.x2:n.x2,r=n.relative?o+n.y2:n.y2):(e=NaN,r=NaN),n.type&x.SMOOTH_QUAD_TO?(i=isNaN(i)?s:2*s-i,a=isNaN(a)?o:2*o-a):n.type&x.QUAD_TO?(i=n.relative?s+n.x1:n.x1,a=n.relative?o+n.y1:n.y2):(i=NaN,a=NaN),n.type&x.LINE_COMMANDS||n.type&x.ARC&&(0===n.rX||0===n.rY||!n.lArcFlag)||n.type&x.CURVE_TO||n.type&x.SMOOTH_CURVE_TO||n.type&x.QUAD_TO||n.type&x.SMOOTH_QUAD_TO){var g=void 0===n.x?0:n.relative?n.x:n.x-s,d=void 0===n.y?0:n.relative?n.y:n.y-o;f=isNaN(i)?void 0===n.x1?f:n.relative?n.x:n.x1-s:i-s,p=isNaN(a)?void 0===n.y1?p:n.relative?n.y:n.y1-o:a-o;var v=void 0===n.x2?0:n.relative?n.x:n.x2-s,y=void 0===n.y2?0:n.relative?n.y:n.y2-o;c(g)<=t&&c(d)<=t&&c(f)<=t&&c(p)<=t&&c(v)<=t&&c(y)<=t&&(l=!0)}return n.type&x.CLOSE_PATH&&c(s-u)<=t&&c(o-h)<=t&&(l=!0),l?[]:n})},t.MATRIX=o,t.ROTATE=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),s(t,e,r);var i=Math.sin(t),n=Math.cos(t);return o(n,i,-i,n,e-e*n+r*i,r-e*i-r*n)},t.TRANSLATE=function(t,e){return void 0===e&&(e=0),s(t,e),o(1,0,0,1,t,e)},t.SCALE=function(t,e){return void 0===e&&(e=t),s(t,e),o(t,0,0,e,0,0)},t.SKEW_X=function(t){return s(t),o(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return s(t),o(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),s(t),o(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),s(t),o(1,0,0,-1,0,t)},t.A_TO_C=function(){return n(function(t,e,r){return x.ARC===t.type?function(t,e,r){var i,n,s,o;t.cX||u(t,e,r);for(var h=Math.min(t.phi1,t.phi2),c=Math.max(t.phi1,t.phi2)-h,f=Math.ceil(c/90),p=Array(f),g=e,d=r,v=0;v<f;v++){var y,m,b,S,T,w,A=(y=t.phi1,m=t.phi2,(1-(b=v/f))*y+b*m),E=(S=t.phi1,T=t.phi2,(1-(w=(v+1)/f))*S+w*T),P=4/3*Math.tan((E-A)*l/4),O=[Math.cos(A*l)-P*Math.sin(A*l),Math.sin(A*l)+P*Math.cos(A*l)],C=O[0],N=O[1],M=[Math.cos(E*l),Math.sin(E*l)],R=M[0],k=M[1],V=[R+P*Math.sin(E*l),k-P*Math.cos(E*l)],_=V[0],I=V[1];p[v]={relative:t.relative,type:x.CURVE_TO};var D=function(e,r){var i=a([e*t.rX,r*t.rY],t.xRot),n=i[0],s=i[1];return[t.cX+n,t.cY+s]};i=D(C,N),p[v].x1=i[0],p[v].y1=i[1],n=D(_,I),p[v].x2=n[0],p[v].y2=n[1],s=D(R,k),p[v].x=s[0],p[v].y=s[1],t.relative&&(p[v].x1-=g,p[v].y1-=d,p[v].x2-=g,p[v].y2-=d,p[v].x-=g,p[v].y-=d),g=(o=[p[v].x,p[v].y])[0],d=o[1]}return p}(t,t.relative?0:e,t.relative?0:r):t})},t.ANNOTATE_ARCS=function(){return n(function(t,e,r){return t.relative&&(e=0,r=0),x.ARC===t.type&&u(t,e,r),t})},t.CLONE=function(){return function(t){var e={};for(var r in t)e[r]=t[r];return e}},t.CALCULATE_BOUNDS=function(){var t=function(t){var e={};for(var r in t)e[r]=t[r];return e},a=e(),s=i(),o=r(),c=n(function(e,r,i){var n=o(s(a(t(e))));function l(t){t>c.maxX&&(c.maxX=t),t<c.minX&&(c.minX=t)}function d(t){t>c.maxY&&(c.maxY=t),t<c.minY&&(c.minY=t)}if(n.type&x.DRAWING_COMMANDS&&(l(r),d(i)),n.type&x.HORIZ_LINE_TO&&l(n.x),n.type&x.VERT_LINE_TO&&d(n.y),n.type&x.LINE_TO&&(l(n.x),d(n.y)),n.type&x.CURVE_TO){l(n.x),d(n.y);for(var v=0,y=p(r,n.x1,n.x2,n.x);v<y.length;v++)0<(S=y[v])&&1>S&&l(g(r,n.x1,n.x2,n.x,S));for(var m=0,b=p(i,n.y1,n.y2,n.y);m<b.length;m++)0<(S=b[m])&&1>S&&d(g(i,n.y1,n.y2,n.y,S))}if(n.type&x.ARC){l(n.x),d(n.y),u(n,r,i);for(var S,T=n.xRot/180*Math.PI,w=Math.cos(T)*n.rX,A=Math.sin(T)*n.rX,E=-Math.sin(T)*n.rY,P=Math.cos(T)*n.rY,O=n.phi1<n.phi2?[n.phi1,n.phi2]:-180>n.phi2?[n.phi2+360,n.phi1+360]:[n.phi2,n.phi1],C=O[0],N=O[1],M=function(t){var e=t[0],r=180*Math.atan2(t[1],e)/Math.PI;return r<C?r+360:r},R=0,k=h(E,-w,0).map(M);R<k.length;R++)(S=k[R])>C&&S<N&&l(f(n.cX,w,E,S));for(var V=0,_=h(P,-A,0).map(M);V<_.length;V++)(S=_[V])>C&&S<N&&d(f(n.cY,A,P,S))}return e});return c.minX=1/0,c.maxX=-1/0,c.minY=1/0,c.maxY=-1/0,c}}(c||(c={}));var d,v=function(){function t(){}return t.prototype.round=function(t){return this.transform(c.ROUND(t))},t.prototype.toAbs=function(){return this.transform(c.TO_ABS())},t.prototype.toRel=function(){return this.transform(c.TO_REL())},t.prototype.normalizeHVZ=function(t,e,r){return this.transform(c.NORMALIZE_HVZ(t,e,r))},t.prototype.normalizeST=function(){return this.transform(c.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(c.QT_TO_C())},t.prototype.aToC=function(){return this.transform(c.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(c.SANITIZE(t))},t.prototype.translate=function(t,e){return this.transform(c.TRANSLATE(t,e))},t.prototype.scale=function(t,e){return this.transform(c.SCALE(t,e))},t.prototype.rotate=function(t,e,r){return this.transform(c.ROTATE(t,e,r))},t.prototype.matrix=function(t,e,r,i,n,a){return this.transform(c.MATRIX(t,e,r,i,n,a))},t.prototype.skewX=function(t){return this.transform(c.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(c.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(c.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(c.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(c.ANNOTATE_ARCS())},t}(),y=function(t){return 48<=t.charCodeAt(0)&&57>=t.charCodeAt(0)},m=function(t){function e(){var e=t.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return n(e,t),e.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,e){var r=this;void 0===e&&(e=[]);for(var i=function(t){e.push(t),r.curArgs.length=0,r.canParseCommandOrComma=!0},n=0;n<t.length;n++){var a=t[n],s=!(this.curCommandType!==x.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),o=y(a)&&("0"===this.curNumber&&"0"===a||s);if(!y(a)||o){if("e"!==a&&"E"!==a){if("-"!==a&&"+"!==a||!this.curNumberHasExp||this.curNumberHasExpDigits){if("."!==a||this.curNumberHasExp||this.curNumberHasDecimal||s){if(this.curNumber&&-1!==this.curCommandType){var u=Number(this.curNumber);if(isNaN(u))throw SyntaxError("Invalid number ending at "+n);if(this.curCommandType===x.ARC){if(0===this.curArgs.length||1===this.curArgs.length){if(0>u)throw SyntaxError('Expected positive number, got "'+u+'" at index "'+n+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+n+'"')}this.curArgs.push(u),this.curArgs.length===b[this.curCommandType]&&(x.HORIZ_LINE_TO===this.curCommandType?i({type:x.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):x.VERT_LINE_TO===this.curCommandType?i({type:x.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===x.MOVE_TO||this.curCommandType===x.LINE_TO||this.curCommandType===x.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),x.MOVE_TO===this.curCommandType&&(this.curCommandType=x.LINE_TO)):this.curCommandType===x.CURVE_TO?i({type:x.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===x.SMOOTH_CURVE_TO?i({type:x.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===x.QUAD_TO?i({type:x.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===x.ARC&&i({type:x.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!(" "===a||"	"===a||"\r"===a||"\n"===a)){if(","===a&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==a&&"-"!==a&&"."!==a){if(o)this.curNumber=a,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw SyntaxError("Unterminated command at index "+n+".");if(!this.canParseCommandOrComma)throw SyntaxError('Unexpected character "'+a+'" at index '+n+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==a&&"Z"!==a){if("h"===a||"H"===a)this.curCommandType=x.HORIZ_LINE_TO,this.curCommandRelative="h"===a;else if("v"===a||"V"===a)this.curCommandType=x.VERT_LINE_TO,this.curCommandRelative="v"===a;else if("m"===a||"M"===a)this.curCommandType=x.MOVE_TO,this.curCommandRelative="m"===a;else if("l"===a||"L"===a)this.curCommandType=x.LINE_TO,this.curCommandRelative="l"===a;else if("c"===a||"C"===a)this.curCommandType=x.CURVE_TO,this.curCommandRelative="c"===a;else if("s"===a||"S"===a)this.curCommandType=x.SMOOTH_CURVE_TO,this.curCommandRelative="s"===a;else if("q"===a||"Q"===a)this.curCommandType=x.QUAD_TO,this.curCommandRelative="q"===a;else if("t"===a||"T"===a)this.curCommandType=x.SMOOTH_QUAD_TO,this.curCommandRelative="t"===a;else{if("a"!==a&&"A"!==a)throw SyntaxError('Unexpected character "'+a+'" at index '+n+".");this.curCommandType=x.ARC,this.curCommandRelative="a"===a}}else e.push({type:x.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}}else this.curNumber=a,this.curNumberHasDecimal="."===a}}else this.curNumber+=a,this.curNumberHasDecimal=!0}else this.curNumber+=a}else this.curNumber+=a,this.curNumberHasExp=!0}else this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp}return e},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(e,r){void 0===r&&(r=[]);for(var i=0,n=Object.getPrototypeOf(this).parse.call(this,e);i<n.length;i++){var a=t(n[i]);Array.isArray(a)?r.push.apply(r,a):r.push(a)}return r}}})},e}(v),x=function(t){function e(r){var i=t.call(this)||this;return i.commands="string"==typeof r?e.parse(r):r,i}return n(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=c.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var e=[],r=0,i=this.commands;r<i.length;r++){var n=t(i[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return this.commands=e,this},e.encode=function(t){return function(t){var e="";Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if(i.type===x.CLOSE_PATH)e+="z";else if(i.type===x.HORIZ_LINE_TO)e+=(i.relative?"h":"H")+i.x;else if(i.type===x.VERT_LINE_TO)e+=(i.relative?"v":"V")+i.y;else if(i.type===x.MOVE_TO)e+=(i.relative?"m":"M")+i.x+" "+i.y;else if(i.type===x.LINE_TO)e+=(i.relative?"l":"L")+i.x+" "+i.y;else if(i.type===x.CURVE_TO)e+=(i.relative?"c":"C")+i.x1+" "+i.y1+" "+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===x.SMOOTH_CURVE_TO)e+=(i.relative?"s":"S")+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===x.QUAD_TO)e+=(i.relative?"q":"Q")+i.x1+" "+i.y1+" "+i.x+" "+i.y;else if(i.type===x.SMOOTH_QUAD_TO)e+=(i.relative?"t":"T")+i.x+" "+i.y;else{if(i.type!==x.ARC)throw Error('Unexpected command type "'+i.type+'" at index '+r+".");e+=(i.relative?"a":"A")+i.rX+" "+i.rY+" "+i.xRot+" "+ +i.lArcFlag+" "+ +i.sweepFlag+" "+i.x+" "+i.y}}return e}(t)},e.parse=function(t){var e=new m,r=[];return e.parse(t,r),e.finish(r),r},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(v),b=((d={})[x.MOVE_TO]=2,d[x.LINE_TO]=2,d[x.HORIZ_LINE_TO]=1,d[x.VERT_LINE_TO]=1,d[x.CLOSE_PATH]=0,d[x.QUAD_TO]=4,d[x.SMOOTH_QUAD_TO]=2,d[x.CURVE_TO]=6,d[x.SMOOTH_CURVE_TO]=4,d[x.ARC]=7,d)}),n("dTsM1",function(t,e){var r=i("5NzQB").PROPER,n=i("g1PTr"),a=i("dl9gC"),s=i("iUzka"),o=i("vrvDR"),u=i("3jMU1"),h="toString",c=RegExp.prototype[h],l=o(function(){return"/a/b"!==c.call({source:"a",flags:"b"})}),f=r&&c.name!==h;// `RegExp.prototype.toString` method
// https://tc39.es/ecma262/#sec-regexp.prototype.tostring
(l||f)&&n(RegExp.prototype,h,function(){var t=a(this);return"/"+s(t.source)+"/"+s(u(t))},{unsafe:!0})}),n("3jMU1",function(t,e){var r=i("a1k1T"),n=i("cqeph"),a=i("9B40L"),s=i("lUMX3"),o=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0===e&&!("flags"in o)&&!n(t,"flags")&&a(o,t)?r(s,t):e}}),n("4NqH5",function(t,r){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e(t.exports,"canvasRGBA",function(){return s});/* eslint-disable no-bitwise -- used for calculations *//* eslint-disable unicorn/prefer-query-selector -- aiming at
  backward-compatibility *//**
* StackBlur - a fast almost Gaussian Blur For Canvas
*
* In case you find this class useful - especially in commercial projects -
* I am not totally unhappy for a small donation to my PayPal account
* mario@quasimondo.de
*
* Or support me on flattr:
* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.
*
* @module StackBlur
* @author Mario Klingemann
* Contact: mario@quasimondo.com
* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}
* Twitter: @quasimondo
*
* @copyright (c) 2010 Mario Klingemann
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];/**
 * @param {HTMLCanvasElement} canvas
 * @param {Integer} topX
 * @param {Integer} topY
 * @param {Integer} width
 * @param {Integer} height
 * @param {Float} radius
 * @returns {undefined}
 */function s(t,e,r,s,u,h){if(!isNaN(h)&&!(h<1)){h|=0;var c=/**
 * @param {string|HTMLCanvasElement} canvas
 * @param {Integer} topX
 * @param {Integer} topY
 * @param {Integer} width
 * @param {Integer} height
 * @throws {Error|TypeError}
 * @returns {ImageData} See {@link https://html.spec.whatwg.org/multipage/canvas.html#imagedata}
 */function(t,e,r,n,a){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==i(t)||!("getContext"in t))throw TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var s=t.getContext("2d");try{return s.getImageData(e,r,n,a)}catch(t){throw Error("unable to access image data: "+t)}}(t,e,r,s,u);c=/**
 * @param {ImageData} imageData
 * @param {Integer} topX
 * @param {Integer} topY
 * @param {Integer} width
 * @param {Integer} height
 * @param {Float} radius
 * @returns {ImageData}
 */function(t,e,r,i,s,u){for(var h,c=t.data,l=2*u+1,f=i-1,p=s-1,g=u+1,d=g*(g+1)/2,v=new o,y=v,m=1;m<l;m++)y=y.next=new o,m===g&&(h=y);y.next=v;for(var x=null,b=null,S=0,T=0,w=n[u],A=a[u],E=0;E<s;E++){y=v;for(var P=c[T],O=c[T+1],C=c[T+2],N=c[T+3],M=0;M<g;M++)y.r=P,y.g=O,y.b=C,y.a=N,y=y.next;for(var R=0,k=0,V=0,_=0,I=g*P,D=g*O,j=g*C,L=g*N,z=d*P,B=d*O,F=d*C,U=d*N,H=1;H<g;H++){var X=T+((f<H?f:H)<<2),Y=c[X],q=c[X+1],Q=c[X+2],W=c[X+3],G=g-H;z+=(y.r=Y)*G,B+=(y.g=q)*G,F+=(y.b=Q)*G,U+=(y.a=W)*G,R+=Y,k+=q,V+=Q,_+=W,y=y.next}x=v,b=h;for(var Z=0;Z<i;Z++){var K=U*w>>A;if(c[T+3]=K,0!==K){var $=255/K;c[T]=(z*w>>A)*$,c[T+1]=(B*w>>A)*$,c[T+2]=(F*w>>A)*$}else c[T]=c[T+1]=c[T+2]=0;z-=I,B-=D,F-=j,U-=L,I-=x.r,D-=x.g,j-=x.b,L-=x.a;var J=Z+u+1;J=S+(J<f?J:f)<<2,R+=x.r=c[J],k+=x.g=c[J+1],V+=x.b=c[J+2],_+=x.a=c[J+3],z+=R,B+=k,F+=V,U+=_,x=x.next;var tt=b,te=tt.r,tr=tt.g,ti=tt.b,tn=tt.a;I+=te,D+=tr,j+=ti,L+=tn,R-=te,k-=tr,V-=ti,_-=tn,b=b.next,T+=4}S+=i}for(var ta=0;ta<i;ta++){var ts=c[T=ta<<2],to=c[T+1],tu=c[T+2],th=c[T+3],tc=g*ts,tl=g*to,tf=g*tu,tp=g*th,tg=d*ts,td=d*to,tv=d*tu,ty=d*th;y=v;for(var tm=0;tm<g;tm++)y.r=ts,y.g=to,y.b=tu,y.a=th,y=y.next;for(var tx=i,tb=0,tS=0,tT=0,tw=0,tA=1;tA<=u;tA++){T=tx+ta<<2;var tE=g-tA;tg+=(y.r=ts=c[T])*tE,td+=(y.g=to=c[T+1])*tE,tv+=(y.b=tu=c[T+2])*tE,ty+=(y.a=th=c[T+3])*tE,tw+=ts,tb+=to,tS+=tu,tT+=th,y=y.next,tA<p&&(tx+=i)}T=ta,x=v,b=h;for(var tP=0;tP<s;tP++){var tO=T<<2;c[tO+3]=th=ty*w>>A,th>0?(th=255/th,c[tO]=(tg*w>>A)*th,c[tO+1]=(td*w>>A)*th,c[tO+2]=(tv*w>>A)*th):c[tO]=c[tO+1]=c[tO+2]=0,tg-=tc,td-=tl,tv-=tf,ty-=tp,tc-=x.r,tl-=x.g,tf-=x.b,tp-=x.a,tO=ta+((tO=tP+g)<p?tO:p)*i<<2,tg+=tw+=x.r=c[tO],td+=tb+=x.g=c[tO+1],tv+=tS+=x.b=c[tO+2],ty+=tT+=x.a=c[tO+3],x=x.next,tc+=ts=b.r,tl+=to=b.g,tf+=tu=b.b,tp+=th=b.a,tw-=ts,tb-=to,tS-=tu,tT-=th,b=b.next,T+=i}}return t}(c,0,0,s,u,h),t.getContext("2d").putImageData(c,e,r)}}/**
 *
 */var o=/**
 * Set properties.
 */function t(){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}})}();